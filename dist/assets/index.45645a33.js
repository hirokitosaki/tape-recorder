(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))d(E);new MutationObserver(E=>{for(const S of E)if(S.type==="childList")for(const A of S.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function M(E){const S={};return E.integrity&&(S.integrity=E.integrity),E.referrerpolicy&&(S.referrerPolicy=E.referrerpolicy),E.crossorigin==="use-credentials"?S.credentials="include":E.crossorigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function d(E){if(E.ep)return;E.ep=!0;const S=M(E);fetch(E.href,S)}})();const style="";var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.0.2
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(x){return x===0?1:(x--,x|=x>>1,x|=x>>2,x|=x>>4,x|=x>>8,1+(x|=x>>16))}function TAG(x){let w=0;for(let M=0;M<x.length;M++)w=x.charCodeAt(M)+(w<<6)+(w<<16)-w;return 0|w}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(x){return _evalSrc(x)},deserializeJSON:function(x){var w=x;return typeof w=="string"&&(w={src:x}),_evalSrc(w.src)},extractOptionsFromJSON:function(x){var w=x;return typeof w=="string"&&(w=JSON.parse(x)),w.options?w.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:x=>{function w(){let U=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=this.getChannels();return t?U/t:0}function M(U,t){let u=U*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*t;this.requestedChannels=t,this.dataRef.requestSizeInBytes(u,!1)}function d(U,t){return this[this.getChannels()*Math.floor(t)+U]}function E(U,t){const u=this.getChannels();return U<0||U>=u||t<0||t>=this.getSize()?0:this[u*Math.floor(t)+U]}function S(U,t,u){this[this.getChannels()*Math.floor(t)+U]=u}function A(U,t,u){const N=this.getChannels();U<0||U>=N||t<0||t>=this.getSize()||(this[N*Math.floor(t)+U]=u)}function I(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function v(U){this.dataRef.sampleRate=U}function p(){this.dataRef.clear()}function m(U){if(U!==this.dataRef.channels){let t=this.getSize();return this.clear(),this.dataRef.channels=U,this.setSize(t)}return this}function y(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let U;if(this.dataRef.isInternallyAllocated){let u=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);u/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,U=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,u)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return U?t.set(U):this.dataRef.wantsFillFlag=!0,re(t,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&q(t),t}return this}function c(U){let t=this.getChannels();return this.requestedChannels=t,this.dataRef.requestSizeInBytes(U*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*t,!0),this.allocateIfNeeded()}function _(){this.fill&&this.fill(0)}function R(){return this.touched}function X(U){this.touched=U}function G(U){this.dataRef.setWantsFill(U)}function ee(){return this.dataRef.getIndex()}function re(U,t,u){U.dataRef=t,U.BASEARRAYVIEW=u,U.getSize=w,U.requestSize=M,U.setSize=c,U.allocateIfNeeded=y,U.setZero=_,U.clear=p,U.getChannels=I,U.getSampleRate=a,U.setWantsFill=G,U.getIndex=ee,t.setZero=function(){U.setZero()},U.touched=!1,U.getTouched=R,U.setTouched=X}function q(U){U.getSample=d,U.getSampleSafe=E,U.setSample=S,U.setSampleSafe=A,U.setChannels=m,U.setSampleRate=v,U.isAudioBuffer=!0,U.requestedChannels=0}let P=function(U,t){let u;return u=U.arrayBuffer?new t(U.arrayBuffer):{},re(u,U,t),u};(P.prototype=Object.create(null)).constructor=P;let g=function(U,t){let u=P.call(this,U,t);return q(u),u};(g.prototype=Object.create(P)).constructor=g;let O=function(U){return g.call(this,U,Float32Array)};(O.prototype=Object.create(g.prototype)).constructor=O;let i=function(U){return g.call(this,U,Float64Array)};(i.prototype=Object.create(g.prototype)).constructor=i;let j=function(U,t){let u=new t(U.dataRefs[U.current]);return u.multiRef=U,u.setCurrent=function(N){this.multiRef.setCurrent(Math.round(N))},u.getIndex=function(){return this.multiRef.getIndex()},u};j.prototype=Object.create(null),j.constructor=j;let Y=function(U){return j.call(this,U,O)};(Y.prototype=Object.create(j.prototype)).constructor=Y;let D=function(U){return j.call(this,U,i)};(D.prototype=Object.create(j.prototype)).constructor=D;let te=function(U){return P.call(this,U,Int32Array)};(te.prototype=Object.create(P.prototype)).constructor=te;let $=function(U){return P.call(this,U,Uint8Array)};($.prototype=Object.create(P.prototype)).constructor=$,x.exports={Float32Buffer:O,Float64Buffer:i,Float32MultiBuffer:Y,Float64MultiBuffer:D,IntBuffer:te,UInt8Buffer:$}},126:x=>{var w=function(){};(w.prototype=Object.create(null)).constructor=w,w.prototype.setEngineAndPatcher=function(){},w.prototype.initialize=function(){},w.prototype.getNumParameters=function(){return 0},w.prototype.setParameterValue=function(){},w.prototype.prepareToProcess=function(){},w.prototype.process=function(){},x.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new w}}},925:x=>{function w(M,d,E,S){E[S]=M[d]+0x9e3779b97f4a7c15n,E[S]=0xbf58476d1ce4e5b9n*(E[S]^E[S]>>30n),E[S]=0x94d049bb133111ebn*(E[S]^E[S]>>27n),E[S]=E[S]^E[S]>>31n}x.exports={reset:function(M,d){let E=new BigUint64Array(1);E[0]=BigInt(Math.trunc(1e6*M)),w(E,0,d,0),w(d,0,d,1),w(d,1,d,2),w(d,2,d,3)},next:function(M){let d=new BigUint64Array(1),E=new BigUint64Array(1);return E[0]=M[0]+M[3],d[0]=M[1]<<17n,M[2]^=M[0],M[3]^=M[1],M[1]^=M[2],M[0]^=M[3],M[2]^=d[0],M[3]=M[3]<<45n|M[3]>>19n,E[0]=E[0]>>11n,2220446049250313e-31*Number(E[0])-1}}},766:(x,w)=>{w.byteLength=function(p){var m=a(p),y=m[0],c=m[1];return 3*(y+c)/4-c},w.toByteArray=function(p){var m,y,c=a(p),_=c[0],R=c[1],X=new E(function(re,q,P){return 3*(q+P)/4-P}(0,_,R)),G=0,ee=R>0?_-4:_;for(y=0;y<ee;y+=4)m=d[p.charCodeAt(y)]<<18|d[p.charCodeAt(y+1)]<<12|d[p.charCodeAt(y+2)]<<6|d[p.charCodeAt(y+3)],X[G++]=m>>16&255,X[G++]=m>>8&255,X[G++]=255&m;return R===2&&(m=d[p.charCodeAt(y)]<<2|d[p.charCodeAt(y+1)]>>4,X[G++]=255&m),R===1&&(m=d[p.charCodeAt(y)]<<10|d[p.charCodeAt(y+1)]<<4|d[p.charCodeAt(y+2)]>>2,X[G++]=m>>8&255,X[G++]=255&m),X},w.fromByteArray=function(p){for(var m,y=p.length,c=y%3,_=[],R=16383,X=0,G=y-c;X<G;X+=R)_.push(v(p,X,X+R>G?G:X+R));return c===1?(m=p[y-1],_.push(M[m>>2]+M[m<<4&63]+"==")):c===2&&(m=(p[y-2]<<8)+p[y-1],_.push(M[m>>10]+M[m>>4&63]+M[m<<2&63]+"=")),_.join("")};for(var M=[],d=[],E=typeof Uint8Array<"u"?Uint8Array:Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,I=S.length;A<I;++A)M[A]=S[A],d[S.charCodeAt(A)]=A;function a(p){var m=p.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=m),[y,y===m?0:4-y%4]}function v(p,m,y){for(var c,_,R=[],X=m;X<y;X+=3)c=(p[X]<<16&16711680)+(p[X+1]<<8&65280)+(255&p[X+2]),R.push(M[(_=c)>>18&63]+M[_>>12&63]+M[_>>6&63]+M[63&_]);return R.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},834:(x,w,M)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const d=M(766),E=M(181),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=a,w.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},w.INSPECT_MAX_BYTES=50;const A=2147483647;function I(e){if(e>A)throw new RangeError('The value "'+e+'" is invalid for option "size"');const r=new Uint8Array(e);return Object.setPrototypeOf(r,a.prototype),r}function a(e,r,s){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return v(e,r,s)}function v(e,r,s){if(typeof e=="string")return function(C,V){if(typeof V=="string"&&V!==""||(V="utf8"),!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const ne=0|R(C,V);let se=I(ne);const ue=se.write(C,V);return ue!==ne&&(se=se.slice(0,ue)),se}(e,r);if(ArrayBuffer.isView(e))return function(C){if(Q(C,Uint8Array)){const V=new Uint8Array(C);return c(V.buffer,V.byteOffset,V.byteLength)}return y(C)}(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return c(e,r,s);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=e.valueOf&&e.valueOf();if(b!=null&&b!==e)return a.from(b,r,s);const T=function(C){if(a.isBuffer(C)){const V=0|_(C.length),ne=I(V);return ne.length===0||C.copy(ne,0,0,V),ne}return C.length!==void 0?typeof C.length!="number"||ae(C.length)?I(0):y(C):C.type==="Buffer"&&Array.isArray(C.data)?y(C.data):void 0}(e);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return a.from(e[Symbol.toPrimitive]("string"),r,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function p(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return p(e),I(e<0?0:0|_(e))}function y(e){const r=e.length<0?0:0|_(e.length),s=I(r);for(let b=0;b<r;b+=1)s[b]=255&e[b];return s}function c(e,r,s){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(s||0))throw new RangeError('"length" is outside of buffer bounds');let b;return b=r===void 0&&s===void 0?new Uint8Array(e):s===void 0?new Uint8Array(e,r):new Uint8Array(e,r,s),Object.setPrototypeOf(b,a.prototype),b}function _(e){if(e>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return 0|e}function R(e,r){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const s=e.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&s===0)return 0;let T=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*s;case"hex":return s>>>1;case"base64":return Z(e).length;default:if(T)return b?-1:J(e).length;r=(""+r).toLowerCase(),T=!0}}function X(e,r,s){let b=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,r,s);case"utf8":case"utf-8":return Y(this,r,s);case"ascii":return te(this,r,s);case"latin1":case"binary":return $(this,r,s);case"base64":return j(this,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t(this,r,s);default:if(b)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),b=!0}}function G(e,r,s){const b=e[r];e[r]=e[s],e[s]=b}function ee(e,r,s,b,T){if(e.length===0)return-1;if(typeof s=="string"?(b=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),ae(s=+s)&&(s=T?0:e.length-1),s<0&&(s=e.length+s),s>=e.length){if(T)return-1;s=e.length-1}else if(s<0){if(!T)return-1;s=0}if(typeof r=="string"&&(r=a.from(r,b)),a.isBuffer(r))return r.length===0?-1:re(e,r,s,b,T);if(typeof r=="number")return r&=255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(e,r,s):Uint8Array.prototype.lastIndexOf.call(e,r,s):re(e,[r],s,b,T);throw new TypeError("val must be string, number or Buffer")}function re(e,r,s,b,T){let C,V=1,ne=e.length,se=r.length;if(b!==void 0&&((b=String(b).toLowerCase())==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(e.length<2||r.length<2)return-1;V=2,ne/=2,se/=2,s/=2}function ue(ie,oe){return V===1?ie[oe]:ie.readUInt16BE(oe*V)}if(T){let ie=-1;for(C=s;C<ne;C++)if(ue(e,C)===ue(r,ie===-1?0:C-ie)){if(ie===-1&&(ie=C),C-ie+1===se)return ie*V}else ie!==-1&&(C-=C-ie),ie=-1}else for(s+se>ne&&(s=ne-se),C=s;C>=0;C--){let ie=!0;for(let oe=0;oe<se;oe++)if(ue(e,C+oe)!==ue(r,oe)){ie=!1;break}if(ie)return C}return-1}function q(e,r,s,b){s=Number(s)||0;const T=e.length-s;b?(b=Number(b))>T&&(b=T):b=T;const C=r.length;let V;for(b>C/2&&(b=C/2),V=0;V<b;++V){const ne=parseInt(r.substr(2*V,2),16);if(ae(ne))return V;e[s+V]=ne}return V}function P(e,r,s,b){return K(J(r,e.length-s),e,s,b)}function g(e,r,s,b){return K(function(T){const C=[];for(let V=0;V<T.length;++V)C.push(255&T.charCodeAt(V));return C}(r),e,s,b)}function O(e,r,s,b){return K(Z(r),e,s,b)}function i(e,r,s,b){return K(function(T,C){let V,ne,se;const ue=[];for(let ie=0;ie<T.length&&!((C-=2)<0);++ie)V=T.charCodeAt(ie),ne=V>>8,se=V%256,ue.push(se),ue.push(ne);return ue}(r,e.length-s),e,s,b)}function j(e,r,s){return r===0&&s===e.length?d.fromByteArray(e):d.fromByteArray(e.slice(r,s))}function Y(e,r,s){s=Math.min(e.length,s);const b=[];let T=r;for(;T<s;){const C=e[T];let V=null,ne=C>239?4:C>223?3:C>191?2:1;if(T+ne<=s){let se,ue,ie,oe;switch(ne){case 1:C<128&&(V=C);break;case 2:se=e[T+1],(192&se)==128&&(oe=(31&C)<<6|63&se,oe>127&&(V=oe));break;case 3:se=e[T+1],ue=e[T+2],(192&se)==128&&(192&ue)==128&&(oe=(15&C)<<12|(63&se)<<6|63&ue,oe>2047&&(oe<55296||oe>57343)&&(V=oe));break;case 4:se=e[T+1],ue=e[T+2],ie=e[T+3],(192&se)==128&&(192&ue)==128&&(192&ie)==128&&(oe=(15&C)<<18|(63&se)<<12|(63&ue)<<6|63&ie,oe>65535&&oe<1114112&&(V=oe))}}V===null?(V=65533,ne=1):V>65535&&(V-=65536,b.push(V>>>10&1023|55296),V=56320|1023&V),b.push(V),T+=ne}return function(C){const V=C.length;if(V<=D)return String.fromCharCode.apply(String,C);let ne="",se=0;for(;se<V;)ne+=String.fromCharCode.apply(String,C.slice(se,se+=D));return ne}(b)}w.kMaxLength=A,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,r,s){return v(e,r,s)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,r,s){return function(b,T,C){return p(b),b<=0?I(b):T!==void 0?typeof C=="string"?I(b).fill(T,C):I(b).fill(T):I(b)}(e,r,s)},a.allocUnsafe=function(e){return m(e)},a.allocUnsafeSlow=function(e){return m(e)},a.isBuffer=function(e){return e!=null&&e.t===!0&&e!==a.prototype},a.compare=function(e,r){if(Q(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Q(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(e)||!a.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let s=e.length,b=r.length;for(let T=0,C=Math.min(s,b);T<C;++T)if(e[T]!==r[T]){s=e[T],b=r[T];break}return s<b?-1:b<s?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);let s;if(r===void 0)for(r=0,s=0;s<e.length;++s)r+=e[s].length;const b=a.allocUnsafe(r);let T=0;for(s=0;s<e.length;++s){let C=e[s];if(Q(C,Uint8Array))T+C.length>b.length?(a.isBuffer(C)||(C=a.from(C)),C.copy(b,T)):Uint8Array.prototype.set.call(b,C,T);else{if(!a.isBuffer(C))throw new TypeError('"list" argument must be an Array of Buffers');C.copy(b,T)}T+=C.length}return b},a.byteLength=R,a.prototype.t=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)G(this,r,r+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)G(this,r,r+3),G(this,r+1,r+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)G(this,r,r+7),G(this,r+1,r+6),G(this,r+2,r+5),G(this,r+3,r+4);return this},a.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Y(this,0,e):X.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||a.compare(this,e)===0},a.prototype.inspect=function(){let e="";const r=w.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},S&&(a.prototype[S]=a.prototype.inspect),a.prototype.compare=function(e,r,s,b,T){if(Q(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),s===void 0&&(s=e?e.length:0),b===void 0&&(b=0),T===void 0&&(T=this.length),r<0||s>e.length||b<0||T>this.length)throw new RangeError("out of range index");if(b>=T&&r>=s)return 0;if(b>=T)return-1;if(r>=s)return 1;if(this===e)return 0;let C=(T>>>=0)-(b>>>=0),V=(s>>>=0)-(r>>>=0);const ne=Math.min(C,V),se=this.slice(b,T),ue=e.slice(r,s);for(let ie=0;ie<ne;++ie)if(se[ie]!==ue[ie]){C=se[ie],V=ue[ie];break}return C<V?-1:V<C?1:0},a.prototype.includes=function(e,r,s){return this.indexOf(e,r,s)!==-1},a.prototype.indexOf=function(e,r,s){return ee(this,e,r,s,!0)},a.prototype.lastIndexOf=function(e,r,s){return ee(this,e,r,s,!1)},a.prototype.write=function(e,r,s,b){if(r===void 0)b="utf8",s=this.length,r=0;else if(s===void 0&&typeof r=="string")b=r,s=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(s)?(s>>>=0,b===void 0&&(b="utf8")):(b=s,s=void 0)}const T=this.length-r;if((s===void 0||s>T)&&(s=T),e.length>0&&(s<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let C=!1;for(;;)switch(b){case"hex":return q(this,e,r,s);case"utf8":case"utf-8":return P(this,e,r,s);case"ascii":case"latin1":case"binary":return g(this,e,r,s);case"base64":return O(this,e,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i(this,e,r,s);default:if(C)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),C=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const D=4096;function te(e,r,s){let b="";s=Math.min(e.length,s);for(let T=r;T<s;++T)b+=String.fromCharCode(127&e[T]);return b}function $(e,r,s){let b="";s=Math.min(e.length,s);for(let T=r;T<s;++T)b+=String.fromCharCode(e[T]);return b}function U(e,r,s){const b=e.length;(!r||r<0)&&(r=0),(!s||s<0||s>b)&&(s=b);let T="";for(let C=r;C<s;++C)T+=he[e[C]];return T}function t(e,r,s){const b=e.slice(r,s);let T="";for(let C=0;C<b.length-1;C+=2)T+=String.fromCharCode(b[C]+256*b[C+1]);return T}function u(e,r,s){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+r>s)throw new RangeError("Trying to access beyond buffer length")}function N(e,r,s,b,T,C){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>T||r<C)throw new RangeError('"value" argument is out of bounds');if(s+b>e.length)throw new RangeError("Index out of range")}function h(e,r,s,b,T){B(r,b,T,e,s,7);let C=Number(r&BigInt(4294967295));e[s++]=C,C>>=8,e[s++]=C,C>>=8,e[s++]=C,C>>=8,e[s++]=C;let V=Number(r>>BigInt(32)&BigInt(4294967295));return e[s++]=V,V>>=8,e[s++]=V,V>>=8,e[s++]=V,V>>=8,e[s++]=V,s}function L(e,r,s,b,T){B(r,b,T,e,s,7);let C=Number(r&BigInt(4294967295));e[s+7]=C,C>>=8,e[s+6]=C,C>>=8,e[s+5]=C,C>>=8,e[s+4]=C;let V=Number(r>>BigInt(32)&BigInt(4294967295));return e[s+3]=V,V>>=8,e[s+2]=V,V>>=8,e[s+1]=V,V>>=8,e[s]=V,s+8}function H(e,r,s,b,T,C){if(s+b>e.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function F(e,r,s,b,T){return r=+r,s>>>=0,T||H(e,0,s,4),E.write(e,r,s,b,23,4),s+4}function o(e,r,s,b,T){return r=+r,s>>>=0,T||H(e,0,s,8),E.write(e,r,s,b,52,8),s+8}a.prototype.slice=function(e,r){const s=this.length;(e=~~e)<0?(e+=s)<0&&(e=0):e>s&&(e=s),(r=r===void 0?s:~~r)<0?(r+=s)<0&&(r=0):r>s&&(r=s),r<e&&(r=e);const b=this.subarray(e,r);return Object.setPrototypeOf(b,a.prototype),b},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,r,s){e>>>=0,r>>>=0,s||u(e,r,this.length);let b=this[e],T=1,C=0;for(;++C<r&&(T*=256);)b+=this[e+C]*T;return b},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,r,s){e>>>=0,r>>>=0,s||u(e,r,this.length);let b=this[e+--r],T=1;for(;r>0&&(T*=256);)b+=this[e+--r]*T;return b},a.prototype.readUint8=a.prototype.readUInt8=function(e,r){return e>>>=0,r||u(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,r){return e>>>=0,r||u(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,r){return e>>>=0,r||u(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,r){return e>>>=0,r||u(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,r){return e>>>=0,r||u(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=le(function(e){z(e>>>=0,"offset");const r=this[e],s=this[e+7];r!==void 0&&s!==void 0||k(e,this.length-8);const b=r+256*this[++e]+65536*this[++e]+this[++e]*2**24,T=this[++e]+256*this[++e]+65536*this[++e]+s*2**24;return BigInt(b)+(BigInt(T)<<BigInt(32))}),a.prototype.readBigUInt64BE=le(function(e){z(e>>>=0,"offset");const r=this[e],s=this[e+7];r!==void 0&&s!==void 0||k(e,this.length-8);const b=r*2**24+65536*this[++e]+256*this[++e]+this[++e],T=this[++e]*2**24+65536*this[++e]+256*this[++e]+s;return(BigInt(b)<<BigInt(32))+BigInt(T)}),a.prototype.readIntLE=function(e,r,s){e>>>=0,r>>>=0,s||u(e,r,this.length);let b=this[e],T=1,C=0;for(;++C<r&&(T*=256);)b+=this[e+C]*T;return T*=128,b>=T&&(b-=Math.pow(2,8*r)),b},a.prototype.readIntBE=function(e,r,s){e>>>=0,r>>>=0,s||u(e,r,this.length);let b=r,T=1,C=this[e+--b];for(;b>0&&(T*=256);)C+=this[e+--b]*T;return T*=128,C>=T&&(C-=Math.pow(2,8*r)),C},a.prototype.readInt8=function(e,r){return e>>>=0,r||u(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,r){e>>>=0,r||u(e,2,this.length);const s=this[e]|this[e+1]<<8;return 32768&s?4294901760|s:s},a.prototype.readInt16BE=function(e,r){e>>>=0,r||u(e,2,this.length);const s=this[e+1]|this[e]<<8;return 32768&s?4294901760|s:s},a.prototype.readInt32LE=function(e,r){return e>>>=0,r||u(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,r){return e>>>=0,r||u(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=le(function(e){z(e>>>=0,"offset");const r=this[e],s=this[e+7];r!==void 0&&s!==void 0||k(e,this.length-8);const b=this[e+4]+256*this[e+5]+65536*this[e+6]+(s<<24);return(BigInt(b)<<BigInt(32))+BigInt(r+256*this[++e]+65536*this[++e]+this[++e]*16777216)}),a.prototype.readBigInt64BE=le(function(e){z(e>>>=0,"offset");const r=this[e],s=this[e+7];r!==void 0&&s!==void 0||k(e,this.length-8);const b=(r<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(b)<<BigInt(32))+BigInt(this[++e]*16777216+65536*this[++e]+256*this[++e]+s)}),a.prototype.readFloatLE=function(e,r){return e>>>=0,r||u(e,4,this.length),E.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,r){return e>>>=0,r||u(e,4,this.length),E.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,r){return e>>>=0,r||u(e,8,this.length),E.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,r){return e>>>=0,r||u(e,8,this.length),E.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,r,s,b){e=+e,r>>>=0,s>>>=0,b||N(this,e,r,s,Math.pow(2,8*s)-1,0);let T=1,C=0;for(this[r]=255&e;++C<s&&(T*=256);)this[r+C]=e/T&255;return r+s},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,r,s,b){e=+e,r>>>=0,s>>>=0,b||N(this,e,r,s,Math.pow(2,8*s)-1,0);let T=s-1,C=1;for(this[r+T]=255&e;--T>=0&&(C*=256);)this[r+T]=e/C&255;return r+s},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,1,255,0),this[r]=255&e,r+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,2,65535,0),this[r]=255&e,this[r+1]=e>>>8,r+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=255&e,r+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e,r+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},a.prototype.writeBigUInt64LE=le(function(e,r=0){return h(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=le(function(e,r=0){return L(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,r,s,b){if(e=+e,r>>>=0,!b){const ne=Math.pow(2,8*s-1);N(this,e,r,s,ne-1,-ne)}let T=0,C=1,V=0;for(this[r]=255&e;++T<s&&(C*=256);)e<0&&V===0&&this[r+T-1]!==0&&(V=1),this[r+T]=(e/C>>0)-V&255;return r+s},a.prototype.writeIntBE=function(e,r,s,b){if(e=+e,r>>>=0,!b){const ne=Math.pow(2,8*s-1);N(this,e,r,s,ne-1,-ne)}let T=s-1,C=1,V=0;for(this[r+T]=255&e;--T>=0&&(C*=256);)e<0&&V===0&&this[r+T+1]!==0&&(V=1),this[r+T]=(e/C>>0)-V&255;return r+s},a.prototype.writeInt8=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=255&e,r+1},a.prototype.writeInt16LE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,2,32767,-32768),this[r]=255&e,this[r+1]=e>>>8,r+2},a.prototype.writeInt16BE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=255&e,r+2},a.prototype.writeInt32LE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,4,2147483647,-2147483648),this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},a.prototype.writeInt32BE=function(e,r,s){return e=+e,r>>>=0,s||N(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},a.prototype.writeBigInt64LE=le(function(e,r=0){return h(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=le(function(e,r=0){return L(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,r,s){return F(this,e,r,!0,s)},a.prototype.writeFloatBE=function(e,r,s){return F(this,e,r,!1,s)},a.prototype.writeDoubleLE=function(e,r,s){return o(this,e,r,!0,s)},a.prototype.writeDoubleBE=function(e,r,s){return o(this,e,r,!1,s)},a.prototype.copy=function(e,r,s,b){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(s||(s=0),b||b===0||(b=this.length),r>=e.length&&(r=e.length),r||(r=0),b>0&&b<s&&(b=s),b===s||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),e.length-r<b-s&&(b=e.length-r+s);const T=b-s;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,s,b):Uint8Array.prototype.set.call(e,this.subarray(s,b),r),T},a.prototype.fill=function(e,r,s,b){if(typeof e=="string"){if(typeof r=="string"?(b=r,r=0,s=this.length):typeof s=="string"&&(b=s,s=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!a.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(e.length===1){const C=e.charCodeAt(0);(b==="utf8"&&C<128||b==="latin1")&&(e=C)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<s)throw new RangeError("Out of range index");if(s<=r)return this;let T;if(r>>>=0,s=s===void 0?this.length:s>>>0,e||(e=0),typeof e=="number")for(T=r;T<s;++T)this[T]=e;else{const C=a.isBuffer(e)?e:a.from(e,b),V=C.length;if(V===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(T=0;T<s-r;++T)this[T+r]=C[T%V]}return this};const f={};function n(e,r,s){f[e]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function l(e){let r="",s=e.length;const b=e[0]==="-"?1:0;for(;s>=b+4;s-=3)r=`_${e.slice(s-3,s)}${r}`;return`${e.slice(0,s)}${r}`}function B(e,r,s,b,T,C){if(e>s||e<r){const V=typeof r=="bigint"?"n":"";let ne;throw ne=C>3?r===0||r===BigInt(0)?`>= 0${V} and < 2${V} ** ${8*(C+1)}${V}`:`>= -(2${V} ** ${8*(C+1)-1}${V}) and < 2 ** ${8*(C+1)-1}${V}`:`>= ${r}${V} and <= ${s}${V}`,new f.ERR_OUT_OF_RANGE("value",ne,e)}(function(V,ne,se){z(ne,"offset"),V[ne]!==void 0&&V[ne+se]!==void 0||k(ne,V.length-(se+1))})(b,T,C)}function z(e,r){if(typeof e!="number")throw new f.ERR_INVALID_ARG_TYPE(r,"number",e)}function k(e,r,s){throw Math.floor(e)!==e?(z(e,s),new f.ERR_OUT_OF_RANGE(s||"offset","an integer",e)):r<0?new f.ERR_BUFFER_OUT_OF_BOUNDS:new f.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${r}`,e)}n("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),n("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError),n("ERR_OUT_OF_RANGE",function(e,r,s){let b=`The value of "${e}" is out of range.`,T=s;return Number.isInteger(s)&&Math.abs(s)>4294967296?T=l(String(s)):typeof s=="bigint"&&(T=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(T=l(T)),T+="n"),b+=` It must be ${r}. Received ${T}`,b},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function J(e,r){let s;r=r||1/0;const b=e.length;let T=null;const C=[];for(let V=0;V<b;++V){if(s=e.charCodeAt(V),s>55295&&s<57344){if(!T){if(s>56319){(r-=3)>-1&&C.push(239,191,189);continue}if(V+1===b){(r-=3)>-1&&C.push(239,191,189);continue}T=s;continue}if(s<56320){(r-=3)>-1&&C.push(239,191,189),T=s;continue}s=65536+(T-55296<<10|s-56320)}else T&&(r-=3)>-1&&C.push(239,191,189);if(T=null,s<128){if((r-=1)<0)break;C.push(s)}else if(s<2048){if((r-=2)<0)break;C.push(s>>6|192,63&s|128)}else if(s<65536){if((r-=3)<0)break;C.push(s>>12|224,s>>6&63|128,63&s|128)}else{if(!(s<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;C.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}}return C}function Z(e){return d.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(e))}function K(e,r,s,b){let T;for(T=0;T<b&&!(T+s>=r.length||T>=e.length);++T)r[T+s]=e[T];return T}function Q(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function ae(e){return e!=e}const he=function(){const e="0123456789abcdef",r=new Array(256);for(let s=0;s<16;++s){const b=16*s;for(let T=0;T<16;++T)r[b+T]=e[s]+e[T]}return r}();function le(e){return typeof BigInt>"u"?fe:e}function fe(){throw new Error("BigInt not supported")}},181:(x,w)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */w.read=function(M,d,E,S,A){var I,a,v=8*A-S-1,p=(1<<v)-1,m=p>>1,y=-7,c=E?A-1:0,_=E?-1:1,R=M[d+c];for(c+=_,I=R&(1<<-y)-1,R>>=-y,y+=v;y>0;I=256*I+M[d+c],c+=_,y-=8);for(a=I&(1<<-y)-1,I>>=-y,y+=S;y>0;a=256*a+M[d+c],c+=_,y-=8);if(I===0)I=1-m;else{if(I===p)return a?NaN:1/0*(R?-1:1);a+=Math.pow(2,S),I-=m}return(R?-1:1)*a*Math.pow(2,I-S)},w.write=function(M,d,E,S,A,I){var a,v,p,m=8*I-A-1,y=(1<<m)-1,c=y>>1,_=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=S?0:I-1,X=S?1:-1,G=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(v=isNaN(d)?1:0,a=y):(a=Math.floor(Math.log(d)/Math.LN2),d*(p=Math.pow(2,-a))<1&&(a--,p*=2),(d+=a+c>=1?_/p:_*Math.pow(2,1-c))*p>=2&&(a++,p/=2),a+c>=y?(v=0,a=y):a+c>=1?(v=(d*p-1)*Math.pow(2,A),a+=c):(v=d*Math.pow(2,c-1)*Math.pow(2,A),a=0));A>=8;M[E+R]=255&v,R+=X,v/=256,A-=8);for(a=a<<A|v,m+=A;m>0;M[E+R]=255&a,R+=X,a/=256,m-=8);M[E+R-X]|=128*G}},845:(x,w,M)=>{var d={};(0,M(761).assign)(d,M(880),M(380),M(271)),x.exports=d},880:(x,w,M)=>{var d=M(789),E=M(761),S=M(944),A=M(950),I=M(744),a=Object.prototype.toString;function v(m){if(!(this instanceof v))return new v(m);this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var c=d.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(c!==0)throw new Error(A[c]);if(y.header&&d.deflateSetHeader(this.strm,y.header),y.dictionary){var _;if(_=typeof y.dictionary=="string"?S.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(c=d.deflateSetDictionary(this.strm,_))!==0)throw new Error(A[c]);this.u=!0}}function p(m,y){var c=new v(y);if(c.push(m,!0),c.err)throw c.msg||A[c.err];return c.result}v.prototype.push=function(m,y){var c,_,R=this.strm,X=this.options.chunkSize;if(this.ended)return!1;_=y===~~y?y:y===!0?4:0,typeof m=="string"?R.input=S.string2buf(m):a.call(m)==="[object ArrayBuffer]"?R.input=new Uint8Array(m):R.input=m,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new E.Buf8(X),R.next_out=0,R.avail_out=X),(c=d.deflate(R,_))!==1&&c!==0)return this.onEnd(c),this.ended=!0,!1;R.avail_out!==0&&(R.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(S.buf2binstring(E.shrinkBuf(R.output,R.next_out))):this.onData(E.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&c!==1);return _===4?(c=d.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===0):_!==2||(this.onEnd(0),R.avail_out=0,!0)},v.prototype.onData=function(m){this.chunks.push(m)},v.prototype.onEnd=function(m){m===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},w.Deflate=v,w.deflate=p,w.deflateRaw=function(m,y){return(y=y||{}).raw=!0,p(m,y)},w.gzip=function(m,y){return(y=y||{}).gzip=!0,p(m,y)}},380:(x,w,M)=>{var d=M(20),E=M(761),S=M(944),A=M(271),I=M(950),a=M(744),v=M(357),p=Object.prototype.toString;function m(c){if(!(this instanceof m))return new m(c);this.options=E.assign({chunkSize:16384,windowBits:0,to:""},c||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||c&&c.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var R=d.inflateInit2(this.strm,_.windowBits);if(R!==A.Z_OK)throw new Error(I[R]);if(this.header=new v,d.inflateGetHeader(this.strm,this.header),_.dictionary&&(typeof _.dictionary=="string"?_.dictionary=S.string2buf(_.dictionary):p.call(_.dictionary)==="[object ArrayBuffer]"&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&(R=d.inflateSetDictionary(this.strm,_.dictionary))!==A.Z_OK))throw new Error(I[R])}function y(c,_){var R=new m(_);if(R.push(c,!0),R.err)throw R.msg||I[R.err];return R.result}m.prototype.push=function(c,_){var R,X,G,ee,re,q=this.strm,P=this.options.chunkSize,g=this.options.dictionary,O=!1;if(this.ended)return!1;X=_===~~_?_:_===!0?A.Z_FINISH:A.Z_NO_FLUSH,typeof c=="string"?q.input=S.binstring2buf(c):p.call(c)==="[object ArrayBuffer]"?q.input=new Uint8Array(c):q.input=c,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new E.Buf8(P),q.next_out=0,q.avail_out=P),(R=d.inflate(q,A.Z_NO_FLUSH))===A.Z_NEED_DICT&&g&&(R=d.inflateSetDictionary(this.strm,g)),R===A.Z_BUF_ERROR&&O===!0&&(R=A.Z_OK,O=!1),R!==A.Z_STREAM_END&&R!==A.Z_OK)return this.onEnd(R),this.ended=!0,!1;q.next_out&&(q.avail_out!==0&&R!==A.Z_STREAM_END&&(q.avail_in!==0||X!==A.Z_FINISH&&X!==A.Z_SYNC_FLUSH)||(this.options.to==="string"?(G=S.utf8border(q.output,q.next_out),ee=q.next_out-G,re=S.buf2string(q.output,G),q.next_out=ee,q.avail_out=P-ee,ee&&E.arraySet(q.output,q.output,G,ee,0),this.onData(re)):this.onData(E.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(O=!0)}while((q.avail_in>0||q.avail_out===0)&&R!==A.Z_STREAM_END);return R===A.Z_STREAM_END&&(X=A.Z_FINISH),X===A.Z_FINISH?(R=d.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===A.Z_OK):X!==A.Z_SYNC_FLUSH||(this.onEnd(A.Z_OK),q.avail_out=0,!0)},m.prototype.onData=function(c){this.chunks.push(c)},m.prototype.onEnd=function(c){c===A.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},w.Inflate=m,w.inflate=y,w.inflateRaw=function(c,_){return(_=_||{}).raw=!0,y(c,_)},w.ungzip=y},761:(x,w)=>{var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function d(A,I){return Object.prototype.hasOwnProperty.call(A,I)}w.assign=function(A){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var a=I.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var v in a)d(a,v)&&(A[v]=a[v])}}return A},w.shrinkBuf=function(A,I){return A.length===I?A:A.subarray?A.subarray(0,I):(A.length=I,A)};var E={arraySet:function(A,I,a,v,p){if(I.subarray&&A.subarray)A.set(I.subarray(a,a+v),p);else for(var m=0;m<v;m++)A[p+m]=I[a+m]},flattenChunks:function(A){var I,a,v,p,m,y;for(v=0,I=0,a=A.length;I<a;I++)v+=A[I].length;for(y=new Uint8Array(v),p=0,I=0,a=A.length;I<a;I++)m=A[I],y.set(m,p),p+=m.length;return y}},S={arraySet:function(A,I,a,v,p){for(var m=0;m<v;m++)A[p+m]=I[a+m]},flattenChunks:function(A){return[].concat.apply([],A)}};w.setTyped=function(A){A?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,E)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,S))},w.setTyped(M)},944:(x,w,M)=>{var d=M(761),E=!0,S=!0;try{String.fromCharCode.apply(null,[0])}catch{E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S=!1}for(var A=new d.Buf8(256),I=0;I<256;I++)A[I]=I>=252?6:I>=248?5:I>=240?4:I>=224?3:I>=192?2:1;function a(v,p){if(p<65534&&(v.subarray&&S||!v.subarray&&E))return String.fromCharCode.apply(null,d.shrinkBuf(v,p));for(var m="",y=0;y<p;y++)m+=String.fromCharCode(v[y]);return m}A[254]=A[254]=1,w.string2buf=function(v){var p,m,y,c,_,R=v.length,X=0;for(c=0;c<R;c++)(64512&(m=v.charCodeAt(c)))==55296&&c+1<R&&(64512&(y=v.charCodeAt(c+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),c++),X+=m<128?1:m<2048?2:m<65536?3:4;for(p=new d.Buf8(X),_=0,c=0;_<X;c++)(64512&(m=v.charCodeAt(c)))==55296&&c+1<R&&(64512&(y=v.charCodeAt(c+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),c++),m<128?p[_++]=m:m<2048?(p[_++]=192|m>>>6,p[_++]=128|63&m):m<65536?(p[_++]=224|m>>>12,p[_++]=128|m>>>6&63,p[_++]=128|63&m):(p[_++]=240|m>>>18,p[_++]=128|m>>>12&63,p[_++]=128|m>>>6&63,p[_++]=128|63&m);return p},w.buf2binstring=function(v){return a(v,v.length)},w.binstring2buf=function(v){for(var p=new d.Buf8(v.length),m=0,y=p.length;m<y;m++)p[m]=v.charCodeAt(m);return p},w.buf2string=function(v,p){var m,y,c,_,R=p||v.length,X=new Array(2*R);for(y=0,m=0;m<R;)if((c=v[m++])<128)X[y++]=c;else if((_=A[c])>4)X[y++]=65533,m+=_-1;else{for(c&=_===2?31:_===3?15:7;_>1&&m<R;)c=c<<6|63&v[m++],_--;_>1?X[y++]=65533:c<65536?X[y++]=c:(c-=65536,X[y++]=55296|c>>10&1023,X[y++]=56320|1023&c)}return a(X,y)},w.utf8border=function(v,p){var m;for((p=p||v.length)>v.length&&(p=v.length),m=p-1;m>=0&&(192&v[m])==128;)m--;return m<0||m===0?p:m+A[v[m]]>p?m:p}},562:x=>{x.exports=function(w,M,d,E){for(var S=65535&w|0,A=w>>>16&65535|0,I=0;d!==0;){d-=I=d>2e3?2e3:d;do A=A+(S=S+M[E++]|0)|0;while(--I);S%=65521,A%=65521}return S|A<<16|0}},271:x=>{x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:x=>{var w=function(){for(var M,d=[],E=0;E<256;E++){M=E;for(var S=0;S<8;S++)M=1&M?3988292384^M>>>1:M>>>1;d[E]=M}return d}();x.exports=function(M,d,E,S){var A=w,I=S+E;M^=-1;for(var a=S;a<I;a++)M=M>>>8^A[255&(M^d[a])];return-1^M}},789:(x,w,M)=>{var d,E=M(761),S=M(564),A=M(562),I=M(299),a=M(950),v=-2,p=258,m=262,y=103,c=113,_=666;function R(t,u){return t.msg=a[u],u}function X(t){return(t<<1)-(t>4?9:0)}function G(t){for(var u=t.length;--u>=0;)t[u]=0}function ee(t){var u=t.state,N=u.pending;N>t.avail_out&&(N=t.avail_out),N!==0&&(E.arraySet(t.output,u.pending_buf,u.pending_out,N,t.next_out),t.next_out+=N,u.pending_out+=N,t.total_out+=N,t.avail_out-=N,u.pending-=N,u.pending===0&&(u.pending_out=0))}function re(t,u){S.h(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,u),t.block_start=t.strstart,ee(t.strm)}function q(t,u){t.pending_buf[t.pending++]=u}function P(t,u){t.pending_buf[t.pending++]=u>>>8&255,t.pending_buf[t.pending++]=255&u}function g(t,u){var N,h,L=t.max_chain_length,H=t.strstart,F=t.prev_length,o=t.nice_match,f=t.strstart>t.w_size-m?t.strstart-(t.w_size-m):0,n=t.window,l=t.w_mask,B=t.prev,z=t.strstart+p,k=n[H+F-1],W=n[H+F];t.prev_length>=t.good_match&&(L>>=2),o>t.lookahead&&(o=t.lookahead);do if(n[(N=u)+F]===W&&n[N+F-1]===k&&n[N]===n[H]&&n[++N]===n[H+1]){H+=2,N++;do;while(n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&n[++H]===n[++N]&&H<z);if(h=p-(z-H),H=z-p,h>F){if(t.match_start=u,F=h,h>=o)break;k=n[H+F-1],W=n[H+F]}}while((u=B[u&l])>f&&--L!=0);return F<=t.lookahead?F:t.lookahead}function O(t){var u,N,h,L,H,F,o,f,n,l,B=t.w_size;do{if(L=t.window_size-t.lookahead-t.strstart,t.strstart>=B+(B-m)){E.arraySet(t.window,t.window,B,B,0),t.match_start-=B,t.strstart-=B,t.block_start-=B,u=N=t.hash_size;do h=t.head[--u],t.head[u]=h>=B?h-B:0;while(--N);u=N=B;do h=t.prev[--u],t.prev[u]=h>=B?h-B:0;while(--N);L+=B}if(t.strm.avail_in===0)break;if(F=t.strm,o=t.window,f=t.strstart+t.lookahead,n=L,l=void 0,(l=F.avail_in)>n&&(l=n),N=l===0?0:(F.avail_in-=l,E.arraySet(o,F.input,F.next_in,l,f),F.state.wrap===1?F.adler=A(F.adler,o,l,f):F.state.wrap===2&&(F.adler=I(F.adler,o,l,f)),F.next_in+=l,F.total_in+=l,l),t.lookahead+=N,t.lookahead+t.insert>=3)for(H=t.strstart-t.insert,t.ins_h=t.window[H],t.ins_h=(t.ins_h<<t.hash_shift^t.window[H+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[H+3-1])&t.hash_mask,t.prev[H&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=H,H++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<m&&t.strm.avail_in!==0)}function i(t,u){for(var N,h;;){if(t.lookahead<m){if(O(t),t.lookahead<m&&u===0)return 1;if(t.lookahead===0)break}if(N=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),N!==0&&t.strstart-N<=t.w_size-m&&(t.match_length=g(t,N)),t.match_length>=3)if(h=S.l(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else h=S.l(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(h&&(re(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,u===4?(re(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(re(t,!1),t.strm.avail_out===0)?1:2}function j(t,u){for(var N,h,L;;){if(t.lookahead<m){if(O(t),t.lookahead<m&&u===0)return 1;if(t.lookahead===0)break}if(N=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,N!==0&&t.prev_length<t.max_lazy_match&&t.strstart-N<=t.w_size-m&&(t.match_length=g(t,N),t.match_length<=5&&(t.strategy===1||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){L=t.strstart+t.lookahead-3,h=S.l(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,h&&(re(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if((h=S.l(t,0,t.window[t.strstart-1]))&&re(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(h=S.l(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,u===4?(re(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(re(t,!1),t.strm.avail_out===0)?1:2}function Y(t,u,N,h,L){this.good_length=t,this.max_lazy=u,this.nice_length=N,this.max_chain=h,this.func=L}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(1146),this.dyn_dtree=new E.Buf16(122),this.bl_tree=new E.Buf16(78),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(16),this.heap=new E.Buf16(573),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(573),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(t){var u;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(u=t.state).pending=0,u.pending_out=0,u.wrap<0&&(u.wrap=-u.wrap),u.status=u.wrap?42:c,t.adler=u.wrap===2?0:1,u.last_flush=0,S.p(u),0):R(t,v)}function $(t){var u,N=te(t);return N===0&&((u=t.state).window_size=2*u.w_size,G(u.head),u.max_lazy_match=d[u.level].max_lazy,u.good_match=d[u.level].good_length,u.nice_match=d[u.level].nice_length,u.max_chain_length=d[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=2,u.match_available=0,u.ins_h=0),N}function U(t,u,N,h,L,H){if(!t)return v;var F=1;if(u===-1&&(u=6),h<0?(F=0,h=-h):h>15&&(F=2,h-=16),L<1||L>9||N!==8||h<8||h>15||u<0||u>9||H<0||H>4)return R(t,v);h===8&&(h=9);var o=new D;return t.state=o,o.strm=t,o.wrap=F,o.gzhead=null,o.w_bits=h,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=L+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new E.Buf8(2*o.w_size),o.head=new E.Buf16(o.hash_size),o.prev=new E.Buf16(o.w_size),o.lit_bufsize=1<<L+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new E.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=u,o.strategy=H,o.method=N,$(t)}d=[new Y(0,0,0,0,function(t,u){var N=65535;for(N>t.pending_buf_size-5&&(N=t.pending_buf_size-5);;){if(t.lookahead<=1){if(O(t),t.lookahead===0&&u===0)return 1;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var h=t.block_start+N;if((t.strstart===0||t.strstart>=h)&&(t.lookahead=t.strstart-h,t.strstart=h,re(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-m&&(re(t,!1),t.strm.avail_out===0))return 1}return t.insert=0,u===4?(re(t,!0),t.strm.avail_out===0?3:4):(t.strstart>t.block_start&&(re(t,!1),t.strm.avail_out),1)}),new Y(4,4,8,4,i),new Y(4,5,16,8,i),new Y(4,6,32,32,i),new Y(4,4,16,16,j),new Y(8,16,32,32,j),new Y(8,16,128,128,j),new Y(8,32,128,256,j),new Y(32,128,258,1024,j),new Y(32,258,258,4096,j)],w.deflateInit=function(t,u){return U(t,u,8,15,8,0)},w.deflateInit2=U,w.deflateReset=$,w.deflateResetKeep=te,w.deflateSetHeader=function(t,u){return t&&t.state?t.state.wrap!==2?v:(t.state.gzhead=u,0):v},w.deflate=function(t,u){var N,h,L,H;if(!t||!t.state||u>5||u<0)return t?R(t,v):v;if(h=t.state,!t.output||!t.input&&t.avail_in!==0||h.status===_&&u!==4)return R(t,t.avail_out===0?-5:v);if(h.strm=t,N=h.last_flush,h.last_flush=u,h.status===42)if(h.wrap===2)t.adler=0,q(h,31),q(h,139),q(h,8),h.gzhead?(q(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),q(h,255&h.gzhead.time),q(h,h.gzhead.time>>8&255),q(h,h.gzhead.time>>16&255),q(h,h.gzhead.time>>24&255),q(h,h.level===9?2:h.strategy>=2||h.level<2?4:0),q(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(q(h,255&h.gzhead.extra.length),q(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=I(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(q(h,0),q(h,0),q(h,0),q(h,0),q(h,0),q(h,h.level===9?2:h.strategy>=2||h.level<2?4:0),q(h,3),h.status=c);else{var F=8+(h.w_bits-8<<4)<<8;F|=(h.strategy>=2||h.level<2?0:h.level<6?1:h.level===6?2:3)<<6,h.strstart!==0&&(F|=32),F+=31-F%31,h.status=c,P(h,F),h.strstart!==0&&(P(h,t.adler>>>16),P(h,65535&t.adler)),t.adler=1}if(h.status===69)if(h.gzhead.extra){for(L=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),ee(t),L=h.pending,h.pending!==h.pending_buf_size));)q(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(h.status===73)if(h.gzhead.name){L=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),ee(t),L=h.pending,h.pending===h.pending_buf_size)){H=1;break}H=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,q(h,H)}while(H!==0);h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),H===0&&(h.gzindex=0,h.status=91)}else h.status=91;if(h.status===91)if(h.gzhead.comment){L=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),ee(t),L=h.pending,h.pending===h.pending_buf_size)){H=1;break}H=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,q(h,H)}while(H!==0);h.gzhead.hcrc&&h.pending>L&&(t.adler=I(t.adler,h.pending_buf,h.pending-L,L)),H===0&&(h.status=y)}else h.status=y;if(h.status===y&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&ee(t),h.pending+2<=h.pending_buf_size&&(q(h,255&t.adler),q(h,t.adler>>8&255),t.adler=0,h.status=c)):h.status=c),h.pending!==0){if(ee(t),t.avail_out===0)return h.last_flush=-1,0}else if(t.avail_in===0&&X(u)<=X(N)&&u!==4)return R(t,-5);if(h.status===_&&t.avail_in!==0)return R(t,-5);if(t.avail_in!==0||h.lookahead!==0||u!==0&&h.status!==_){var o=h.strategy===2?function(f,n){for(var l;;){if(f.lookahead===0&&(O(f),f.lookahead===0)){if(n===0)return 1;break}if(f.match_length=0,l=S.l(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,l&&(re(f,!1),f.strm.avail_out===0))return 1}return f.insert=0,n===4?(re(f,!0),f.strm.avail_out===0?3:4):f.last_lit&&(re(f,!1),f.strm.avail_out===0)?1:2}(h,u):h.strategy===3?function(f,n){for(var l,B,z,k,W=f.window;;){if(f.lookahead<=p){if(O(f),f.lookahead<=p&&n===0)return 1;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=3&&f.strstart>0&&(B=W[z=f.strstart-1])===W[++z]&&B===W[++z]&&B===W[++z]){k=f.strstart+p;do;while(B===W[++z]&&B===W[++z]&&B===W[++z]&&B===W[++z]&&B===W[++z]&&B===W[++z]&&B===W[++z]&&B===W[++z]&&z<k);f.match_length=p-(k-z),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=3?(l=S.l(f,1,f.match_length-3),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(l=S.l(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),l&&(re(f,!1),f.strm.avail_out===0))return 1}return f.insert=0,n===4?(re(f,!0),f.strm.avail_out===0?3:4):f.last_lit&&(re(f,!1),f.strm.avail_out===0)?1:2}(h,u):d[h.level].func(h,u);if(o!==3&&o!==4||(h.status=_),o===1||o===3)return t.avail_out===0&&(h.last_flush=-1),0;if(o===2&&(u===1?S.g(h):u!==5&&(S.m(h,0,0,!1),u===3&&(G(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),ee(t),t.avail_out===0))return h.last_flush=-1,0}return u!==4?0:h.wrap<=0?1:(h.wrap===2?(q(h,255&t.adler),q(h,t.adler>>8&255),q(h,t.adler>>16&255),q(h,t.adler>>24&255),q(h,255&t.total_in),q(h,t.total_in>>8&255),q(h,t.total_in>>16&255),q(h,t.total_in>>24&255)):(P(h,t.adler>>>16),P(h,65535&t.adler)),ee(t),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?0:1)},w.deflateEnd=function(t){var u;return t&&t.state?(u=t.state.status)!==42&&u!==69&&u!==73&&u!==91&&u!==y&&u!==c&&u!==_?R(t,v):(t.state=null,u===c?R(t,-3):0):v},w.deflateSetDictionary=function(t,u){var N,h,L,H,F,o,f,n,l=u.length;if(!t||!t.state||(H=(N=t.state).wrap)===2||H===1&&N.status!==42||N.lookahead)return v;for(H===1&&(t.adler=A(t.adler,u,l,0)),N.wrap=0,l>=N.w_size&&(H===0&&(G(N.head),N.strstart=0,N.block_start=0,N.insert=0),n=new E.Buf8(N.w_size),E.arraySet(n,u,l-N.w_size,N.w_size,0),u=n,l=N.w_size),F=t.avail_in,o=t.next_in,f=t.input,t.avail_in=l,t.next_in=0,t.input=u,O(N);N.lookahead>=3;){h=N.strstart,L=N.lookahead-2;do N.ins_h=(N.ins_h<<N.hash_shift^N.window[h+3-1])&N.hash_mask,N.prev[h&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=h,h++;while(--L);N.strstart=h,N.lookahead=2,O(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,t.next_in=o,t.input=f,t.avail_in=F,N.wrap=H,0},w.deflateInfo="pako deflate (from Nodeca project)"},357:x=>{x.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:x=>{x.exports=function(w,M){var d,E,S,A,I,a,v,p,m,y,c,_,R,X,G,ee,re,q,P,g,O,i,j,Y,D;d=w.state,E=w.next_in,Y=w.input,S=E+(w.avail_in-5),A=w.next_out,D=w.output,I=A-(M-w.avail_out),a=A+(w.avail_out-257),v=d.dmax,p=d.wsize,m=d.whave,y=d.wnext,c=d.window,_=d.hold,R=d.bits,X=d.lencode,G=d.distcode,ee=(1<<d.lenbits)-1,re=(1<<d.distbits)-1;e:do{R<15&&(_+=Y[E++]<<R,R+=8,_+=Y[E++]<<R,R+=8),q=X[_&ee];t:for(;;){if(_>>>=P=q>>>24,R-=P,(P=q>>>16&255)==0)D[A++]=65535&q;else{if(!(16&P)){if((64&P)==0){q=X[(65535&q)+(_&(1<<P)-1)];continue t}if(32&P){d.mode=12;break e}w.msg="invalid literal/length code",d.mode=30;break e}g=65535&q,(P&=15)&&(R<P&&(_+=Y[E++]<<R,R+=8),g+=_&(1<<P)-1,_>>>=P,R-=P),R<15&&(_+=Y[E++]<<R,R+=8,_+=Y[E++]<<R,R+=8),q=G[_&re];r:for(;;){if(_>>>=P=q>>>24,R-=P,!(16&(P=q>>>16&255))){if((64&P)==0){q=G[(65535&q)+(_&(1<<P)-1)];continue r}w.msg="invalid distance code",d.mode=30;break e}if(O=65535&q,R<(P&=15)&&(_+=Y[E++]<<R,(R+=8)<P&&(_+=Y[E++]<<R,R+=8)),(O+=_&(1<<P)-1)>v){w.msg="invalid distance too far back",d.mode=30;break e}if(_>>>=P,R-=P,O>(P=A-I)){if((P=O-P)>m&&d.sane){w.msg="invalid distance too far back",d.mode=30;break e}if(i=0,j=c,y===0){if(i+=p-P,P<g){g-=P;do D[A++]=c[i++];while(--P);i=A-O,j=D}}else if(y<P){if(i+=p+y-P,(P-=y)<g){g-=P;do D[A++]=c[i++];while(--P);if(i=0,y<g){g-=P=y;do D[A++]=c[i++];while(--P);i=A-O,j=D}}}else if(i+=y-P,P<g){g-=P;do D[A++]=c[i++];while(--P);i=A-O,j=D}for(;g>2;)D[A++]=j[i++],D[A++]=j[i++],D[A++]=j[i++],g-=3;g&&(D[A++]=j[i++],g>1&&(D[A++]=j[i++]))}else{i=A-O;do D[A++]=D[i++],D[A++]=D[i++],D[A++]=D[i++],g-=3;while(g>2);g&&(D[A++]=D[i++],g>1&&(D[A++]=D[i++]))}break}}break}}while(E<S&&A<a);E-=g=R>>3,_&=(1<<(R-=g<<3))-1,w.next_in=E,w.next_out=A,w.avail_in=E<S?S-E+5:5-(E-S),w.avail_out=A<a?a-A+257:257-(A-a),d.hold=_,d.bits=R}},20:(x,w,M)=>{var d=M(761),E=M(562),S=M(299),A=M(980),I=M(881),a=-2,v=12,p=30;function m(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(g){var O;return g&&g.state?(O=g.state,g.total_in=g.total_out=O.total=0,g.msg="",O.wrap&&(g.adler=1&O.wrap),O.mode=1,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new d.Buf32(852),O.distcode=O.distdyn=new d.Buf32(592),O.sane=1,O.back=-1,0):a}function _(g){var O;return g&&g.state?((O=g.state).wsize=0,O.whave=0,O.wnext=0,c(g)):a}function R(g,O){var i,j;return g&&g.state?(j=g.state,O<0?(i=0,O=-O):(i=1+(O>>4),O<48&&(O&=15)),O&&(O<8||O>15)?a:(j.window!==null&&j.wbits!==O&&(j.window=null),j.wrap=i,j.wbits=O,_(g))):a}function X(g,O){var i,j;return g?(j=new y,g.state=j,j.window=null,(i=R(g,O))!==0&&(g.state=null),i):a}var G,ee,re=!0;function q(g){if(re){var O;for(G=new d.Buf32(512),ee=new d.Buf32(32),O=0;O<144;)g.lens[O++]=8;for(;O<256;)g.lens[O++]=9;for(;O<280;)g.lens[O++]=7;for(;O<288;)g.lens[O++]=8;for(I(1,g.lens,0,288,G,0,g.work,{bits:9}),O=0;O<32;)g.lens[O++]=5;I(2,g.lens,0,32,ee,0,g.work,{bits:5}),re=!1}g.lencode=G,g.lenbits=9,g.distcode=ee,g.distbits=5}function P(g,O,i,j){var Y,D=g.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new d.Buf8(D.wsize)),j>=D.wsize?(d.arraySet(D.window,O,i-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):((Y=D.wsize-D.wnext)>j&&(Y=j),d.arraySet(D.window,O,i-j,Y,D.wnext),(j-=Y)?(d.arraySet(D.window,O,i-j,j,0),D.wnext=j,D.whave=D.wsize):(D.wnext+=Y,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=Y))),0}w.inflateReset=_,w.inflateReset2=R,w.inflateResetKeep=c,w.inflateInit=function(g){return X(g,15)},w.inflateInit2=X,w.inflate=function(g,O){var i,j,Y,D,te,$,U,t,u,N,h,L,H,F,o,f,n,l,B,z,k,W,J,Z,K=0,Q=new d.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return a;(i=g.state).mode===v&&(i.mode=13),te=g.next_out,Y=g.output,U=g.avail_out,D=g.next_in,j=g.input,$=g.avail_in,t=i.hold,u=i.bits,N=$,h=U,W=0;e:for(;;)switch(i.mode){case 1:if(i.wrap===0){i.mode=13;break}for(;u<16;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(2&i.wrap&&t===35615){i.check=0,Q[0]=255&t,Q[1]=t>>>8&255,i.check=S(i.check,Q,2,0),t=0,u=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&t)<<8)+(t>>8))%31){g.msg="incorrect header check",i.mode=p;break}if((15&t)!=8){g.msg="unknown compression method",i.mode=p;break}if(u-=4,k=8+(15&(t>>>=4)),i.wbits===0)i.wbits=k;else if(k>i.wbits){g.msg="invalid window size",i.mode=p;break}i.dmax=1<<k,g.adler=i.check=1,i.mode=512&t?10:v,t=0,u=0;break;case 2:for(;u<16;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(i.flags=t,(255&i.flags)!=8){g.msg="unknown compression method",i.mode=p;break}if(57344&i.flags){g.msg="unknown header flags set",i.mode=p;break}i.head&&(i.head.text=t>>8&1),512&i.flags&&(Q[0]=255&t,Q[1]=t>>>8&255,i.check=S(i.check,Q,2,0)),t=0,u=0,i.mode=3;case 3:for(;u<32;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.head&&(i.head.time=t),512&i.flags&&(Q[0]=255&t,Q[1]=t>>>8&255,Q[2]=t>>>16&255,Q[3]=t>>>24&255,i.check=S(i.check,Q,4,0)),t=0,u=0,i.mode=4;case 4:for(;u<16;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.head&&(i.head.xflags=255&t,i.head.os=t>>8),512&i.flags&&(Q[0]=255&t,Q[1]=t>>>8&255,i.check=S(i.check,Q,2,0)),t=0,u=0,i.mode=5;case 5:if(1024&i.flags){for(;u<16;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.length=t,i.head&&(i.head.extra_len=t),512&i.flags&&(Q[0]=255&t,Q[1]=t>>>8&255,i.check=S(i.check,Q,2,0)),t=0,u=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((L=i.length)>$&&(L=$),L&&(i.head&&(k=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,j,D,L,k)),512&i.flags&&(i.check=S(i.check,j,L,D)),$-=L,D+=L,i.length-=L),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if($===0)break e;L=0;do k=j[D+L++],i.head&&k&&i.length<65536&&(i.head.name+=String.fromCharCode(k));while(k&&L<$);if(512&i.flags&&(i.check=S(i.check,j,L,D)),$-=L,D+=L,k)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if($===0)break e;L=0;do k=j[D+L++],i.head&&k&&i.length<65536&&(i.head.comment+=String.fromCharCode(k));while(k&&L<$);if(512&i.flags&&(i.check=S(i.check,j,L,D)),$-=L,D+=L,k)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;u<16;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(t!==(65535&i.check)){g.msg="header crc mismatch",i.mode=p;break}t=0,u=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),g.adler=i.check=0,i.mode=v;break;case 10:for(;u<32;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}g.adler=i.check=m(t),t=0,u=0,i.mode=11;case 11:if(i.havedict===0)return g.next_out=te,g.avail_out=U,g.next_in=D,g.avail_in=$,i.hold=t,i.bits=u,2;g.adler=i.check=1,i.mode=v;case v:if(O===5||O===6)break e;case 13:if(i.last){t>>>=7&u,u-=7&u,i.mode=27;break}for(;u<3;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}switch(i.last=1&t,u-=1,3&(t>>>=1)){case 0:i.mode=14;break;case 1:if(q(i),i.mode=20,O===6){t>>>=2,u-=2;break e}break;case 2:i.mode=17;break;case 3:g.msg="invalid block type",i.mode=p}t>>>=2,u-=2;break;case 14:for(t>>>=7&u,u-=7&u;u<32;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if((65535&t)!=(t>>>16^65535)){g.msg="invalid stored block lengths",i.mode=p;break}if(i.length=65535&t,t=0,u=0,i.mode=15,O===6)break e;case 15:i.mode=16;case 16:if(L=i.length){if(L>$&&(L=$),L>U&&(L=U),L===0)break e;d.arraySet(Y,j,D,L,te),$-=L,D+=L,U-=L,te+=L,i.length-=L;break}i.mode=v;break;case 17:for(;u<14;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(i.nlen=257+(31&t),t>>>=5,u-=5,i.ndist=1+(31&t),t>>>=5,u-=5,i.ncode=4+(15&t),t>>>=4,u-=4,i.nlen>286||i.ndist>30){g.msg="too many length or distance symbols",i.mode=p;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;u<3;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.lens[ae[i.have++]]=7&t,t>>>=3,u-=3}for(;i.have<19;)i.lens[ae[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,J={bits:i.lenbits},W=I(0,i.lens,0,19,i.lencode,0,i.work,J),i.lenbits=J.bits,W){g.msg="invalid code lengths set",i.mode=p;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;f=(K=i.lencode[t&(1<<i.lenbits)-1])>>>16&255,n=65535&K,!((o=K>>>24)<=u);){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(n<16)t>>>=o,u-=o,i.lens[i.have++]=n;else{if(n===16){for(Z=o+2;u<Z;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(t>>>=o,u-=o,i.have===0){g.msg="invalid bit length repeat",i.mode=p;break}k=i.lens[i.have-1],L=3+(3&t),t>>>=2,u-=2}else if(n===17){for(Z=o+3;u<Z;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}u-=o,k=0,L=3+(7&(t>>>=o)),t>>>=3,u-=3}else{for(Z=o+7;u<Z;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}u-=o,k=0,L=11+(127&(t>>>=o)),t>>>=7,u-=7}if(i.have+L>i.nlen+i.ndist){g.msg="invalid bit length repeat",i.mode=p;break}for(;L--;)i.lens[i.have++]=k}}if(i.mode===p)break;if(i.lens[256]===0){g.msg="invalid code -- missing end-of-block",i.mode=p;break}if(i.lenbits=9,J={bits:i.lenbits},W=I(1,i.lens,0,i.nlen,i.lencode,0,i.work,J),i.lenbits=J.bits,W){g.msg="invalid literal/lengths set",i.mode=p;break}if(i.distbits=6,i.distcode=i.distdyn,J={bits:i.distbits},W=I(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,J),i.distbits=J.bits,W){g.msg="invalid distances set",i.mode=p;break}if(i.mode=20,O===6)break e;case 20:i.mode=21;case 21:if($>=6&&U>=258){g.next_out=te,g.avail_out=U,g.next_in=D,g.avail_in=$,i.hold=t,i.bits=u,A(g,h),te=g.next_out,Y=g.output,U=g.avail_out,D=g.next_in,j=g.input,$=g.avail_in,t=i.hold,u=i.bits,i.mode===v&&(i.back=-1);break}for(i.back=0;f=(K=i.lencode[t&(1<<i.lenbits)-1])>>>16&255,n=65535&K,!((o=K>>>24)<=u);){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(f&&(240&f)==0){for(l=o,B=f,z=n;f=(K=i.lencode[z+((t&(1<<l+B)-1)>>l)])>>>16&255,n=65535&K,!(l+(o=K>>>24)<=u);){if($===0)break e;$--,t+=j[D++]<<u,u+=8}t>>>=l,u-=l,i.back+=l}if(t>>>=o,u-=o,i.back+=o,i.length=n,f===0){i.mode=26;break}if(32&f){i.back=-1,i.mode=v;break}if(64&f){g.msg="invalid literal/length code",i.mode=p;break}i.extra=15&f,i.mode=22;case 22:if(i.extra){for(Z=i.extra;u<Z;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.length+=t&(1<<i.extra)-1,t>>>=i.extra,u-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;f=(K=i.distcode[t&(1<<i.distbits)-1])>>>16&255,n=65535&K,!((o=K>>>24)<=u);){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if((240&f)==0){for(l=o,B=f,z=n;f=(K=i.distcode[z+((t&(1<<l+B)-1)>>l)])>>>16&255,n=65535&K,!(l+(o=K>>>24)<=u);){if($===0)break e;$--,t+=j[D++]<<u,u+=8}t>>>=l,u-=l,i.back+=l}if(t>>>=o,u-=o,i.back+=o,64&f){g.msg="invalid distance code",i.mode=p;break}i.offset=n,i.extra=15&f,i.mode=24;case 24:if(i.extra){for(Z=i.extra;u<Z;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}i.offset+=t&(1<<i.extra)-1,t>>>=i.extra,u-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){g.msg="invalid distance too far back",i.mode=p;break}i.mode=25;case 25:if(U===0)break e;if(L=h-U,i.offset>L){if((L=i.offset-L)>i.whave&&i.sane){g.msg="invalid distance too far back",i.mode=p;break}L>i.wnext?(L-=i.wnext,H=i.wsize-L):H=i.wnext-L,L>i.length&&(L=i.length),F=i.window}else F=Y,H=te-i.offset,L=i.length;L>U&&(L=U),U-=L,i.length-=L;do Y[te++]=F[H++];while(--L);i.length===0&&(i.mode=21);break;case 26:if(U===0)break e;Y[te++]=i.length,U--,i.mode=21;break;case 27:if(i.wrap){for(;u<32;){if($===0)break e;$--,t|=j[D++]<<u,u+=8}if(h-=U,g.total_out+=h,i.total+=h,h&&(g.adler=i.check=i.flags?S(i.check,Y,h,te-h):E(i.check,Y,h,te-h)),h=U,(i.flags?t:m(t))!==i.check){g.msg="incorrect data check",i.mode=p;break}t=0,u=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;u<32;){if($===0)break e;$--,t+=j[D++]<<u,u+=8}if(t!==(4294967295&i.total)){g.msg="incorrect length check",i.mode=p;break}t=0,u=0}i.mode=29;case 29:W=1;break e;case p:W=-3;break e;case 31:return-4;default:return a}return g.next_out=te,g.avail_out=U,g.next_in=D,g.avail_in=$,i.hold=t,i.bits=u,(i.wsize||h!==g.avail_out&&i.mode<p&&(i.mode<27||O!==4))&&P(g,g.output,g.next_out,h-g.avail_out)?(i.mode=31,-4):(N-=g.avail_in,h-=g.avail_out,g.total_in+=N,g.total_out+=h,i.total+=h,i.wrap&&h&&(g.adler=i.check=i.flags?S(i.check,Y,h,g.next_out-h):E(i.check,Y,h,g.next_out-h)),g.data_type=i.bits+(i.last?64:0)+(i.mode===v?128:0)+(i.mode===20||i.mode===15?256:0),(N===0&&h===0||O===4)&&W===0&&(W=-5),W)},w.inflateEnd=function(g){if(!g||!g.state)return a;var O=g.state;return O.window&&(O.window=null),g.state=null,0},w.inflateGetHeader=function(g,O){var i;return g&&g.state?(2&(i=g.state).wrap)==0?a:(i.head=O,O.done=!1,0):a},w.inflateSetDictionary=function(g,O){var i,j=O.length;return g&&g.state?(i=g.state).wrap!==0&&i.mode!==11?a:i.mode===11&&E(1,O,j,0)!==i.check?-3:P(g,O,j,j)?(i.mode=31,-4):(i.havedict=1,0):a},w.inflateInfo="pako inflate (from Nodeca project)"},881:(x,w,M)=>{var d=M(761),E=15,S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(v,p,m,y,c,_,R,X){var G,ee,re,q,P,g,O,i,j,Y=X.bits,D=0,te=0,$=0,U=0,t=0,u=0,N=0,h=0,L=0,H=0,F=null,o=0,f=new d.Buf16(16),n=new d.Buf16(16),l=null,B=0;for(D=0;D<=E;D++)f[D]=0;for(te=0;te<y;te++)f[p[m+te]]++;for(t=Y,U=E;U>=1&&f[U]===0;U--);if(t>U&&(t=U),U===0)return c[_++]=20971520,c[_++]=20971520,X.bits=1,0;for($=1;$<U&&f[$]===0;$++);for(t<$&&(t=$),h=1,D=1;D<=E;D++)if(h<<=1,(h-=f[D])<0)return-1;if(h>0&&(v===0||U!==1))return-1;for(n[1]=0,D=1;D<E;D++)n[D+1]=n[D]+f[D];for(te=0;te<y;te++)p[m+te]!==0&&(R[n[p[m+te]]++]=te);if(v===0?(F=l=R,g=19):v===1?(F=S,o-=257,l=A,B-=257,g=256):(F=I,l=a,g=-1),H=0,te=0,D=$,P=_,u=t,N=0,re=-1,q=(L=1<<t)-1,v===1&&L>852||v===2&&L>592)return 1;for(;;){O=D-N,R[te]<g?(i=0,j=R[te]):R[te]>g?(i=l[B+R[te]],j=F[o+R[te]]):(i=96,j=0),G=1<<D-N,$=ee=1<<u;do c[P+(H>>N)+(ee-=G)]=O<<24|i<<16|j|0;while(ee!==0);for(G=1<<D-1;H&G;)G>>=1;if(G!==0?(H&=G-1,H+=G):H=0,te++,--f[D]==0){if(D===U)break;D=p[m+R[te]]}if(D>t&&(H&q)!==re){for(N===0&&(N=t),P+=$,h=1<<(u=D-N);u+N<U&&!((h-=f[u+N])<=0);)u++,h<<=1;if(L+=1<<u,v===1&&L>852||v===2&&L>592)return 1;c[re=H&q]=t<<24|u<<16|P-_|0}}return H!==0&&(c[P+H]=D-N<<24|4194304|0),X.bits=t,0}},950:x=>{x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(x,w,M)=>{var d=M(761);function E(n){for(var l=n.length;--l>=0;)n[l]=0}var S=256,A=286,I=30,a=15,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);E(c);var _=new Array(60);E(_);var R=new Array(512);E(R);var X=new Array(256);E(X);var G=new Array(29);E(G);var ee,re,q,P=new Array(I);function g(n,l,B,z,k){this.static_tree=n,this.extra_bits=l,this.extra_base=B,this.elems=z,this.max_length=k,this.has_stree=n&&n.length}function O(n,l){this.dyn_tree=n,this.max_code=0,this.stat_desc=l}function i(n){return n<256?R[n]:R[256+(n>>>7)]}function j(n,l){n.pending_buf[n.pending++]=255&l,n.pending_buf[n.pending++]=l>>>8&255}function Y(n,l,B){n.bi_valid>16-B?(n.bi_buf|=l<<n.bi_valid&65535,j(n,n.bi_buf),n.bi_buf=l>>16-n.bi_valid,n.bi_valid+=B-16):(n.bi_buf|=l<<n.bi_valid&65535,n.bi_valid+=B)}function D(n,l,B){Y(n,B[2*l],B[2*l+1])}function te(n,l){var B=0;do B|=1&n,n>>>=1,B<<=1;while(--l>0);return B>>>1}function $(n,l,B){var z,k,W=new Array(16),J=0;for(z=1;z<=a;z++)W[z]=J=J+B[z-1]<<1;for(k=0;k<=l;k++){var Z=n[2*k+1];Z!==0&&(n[2*k]=te(W[Z]++,Z))}}function U(n){var l;for(l=0;l<A;l++)n.dyn_ltree[2*l]=0;for(l=0;l<I;l++)n.dyn_dtree[2*l]=0;for(l=0;l<19;l++)n.bl_tree[2*l]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function t(n){n.bi_valid>8?j(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function u(n,l,B,z){var k=2*l,W=2*B;return n[k]<n[W]||n[k]===n[W]&&z[l]<=z[B]}function N(n,l,B){for(var z=n.heap[B],k=B<<1;k<=n.heap_len&&(k<n.heap_len&&u(l,n.heap[k+1],n.heap[k],n.depth)&&k++,!u(l,z,n.heap[k],n.depth));)n.heap[B]=n.heap[k],B=k,k<<=1;n.heap[B]=z}function h(n,l,B){var z,k,W,J,Z=0;if(n.last_lit!==0)do z=n.pending_buf[n.d_buf+2*Z]<<8|n.pending_buf[n.d_buf+2*Z+1],k=n.pending_buf[n.l_buf+Z],Z++,z===0?D(n,k,l):(D(n,(W=X[k])+S+1,l),(J=v[W])!==0&&Y(n,k-=G[W],J),D(n,W=i(--z),B),(J=p[W])!==0&&Y(n,z-=P[W],J));while(Z<n.last_lit);D(n,256,l)}function L(n,l){var B,z,k,W=l.dyn_tree,J=l.stat_desc.static_tree,Z=l.stat_desc.has_stree,K=l.stat_desc.elems,Q=-1;for(n.heap_len=0,n.heap_max=573,B=0;B<K;B++)W[2*B]!==0?(n.heap[++n.heap_len]=Q=B,n.depth[B]=0):W[2*B+1]=0;for(;n.heap_len<2;)W[2*(k=n.heap[++n.heap_len]=Q<2?++Q:0)]=1,n.depth[k]=0,n.opt_len--,Z&&(n.static_len-=J[2*k+1]);for(l.max_code=Q,B=n.heap_len>>1;B>=1;B--)N(n,W,B);k=K;do B=n.heap[1],n.heap[1]=n.heap[n.heap_len--],N(n,W,1),z=n.heap[1],n.heap[--n.heap_max]=B,n.heap[--n.heap_max]=z,W[2*k]=W[2*B]+W[2*z],n.depth[k]=(n.depth[B]>=n.depth[z]?n.depth[B]:n.depth[z])+1,W[2*B+1]=W[2*z+1]=k,n.heap[1]=k++,N(n,W,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],function(ae,he){var le,fe,e,r,s,b,T=he.dyn_tree,C=he.max_code,V=he.stat_desc.static_tree,ne=he.stat_desc.has_stree,se=he.stat_desc.extra_bits,ue=he.stat_desc.extra_base,ie=he.stat_desc.max_length,oe=0;for(r=0;r<=a;r++)ae.bl_count[r]=0;for(T[2*ae.heap[ae.heap_max]+1]=0,le=ae.heap_max+1;le<573;le++)(r=T[2*T[2*(fe=ae.heap[le])+1]+1]+1)>ie&&(r=ie,oe++),T[2*fe+1]=r,fe>C||(ae.bl_count[r]++,s=0,fe>=ue&&(s=se[fe-ue]),b=T[2*fe],ae.opt_len+=b*(r+s),ne&&(ae.static_len+=b*(V[2*fe+1]+s)));if(oe!==0){do{for(r=ie-1;ae.bl_count[r]===0;)r--;ae.bl_count[r]--,ae.bl_count[r+1]+=2,ae.bl_count[ie]--,oe-=2}while(oe>0);for(r=ie;r!==0;r--)for(fe=ae.bl_count[r];fe!==0;)(e=ae.heap[--le])>C||(T[2*e+1]!==r&&(ae.opt_len+=(r-T[2*e+1])*T[2*e],T[2*e+1]=r),fe--)}}(n,l),$(W,Q,n.bl_count)}function H(n,l,B){var z,k,W=-1,J=l[1],Z=0,K=7,Q=4;for(J===0&&(K=138,Q=3),l[2*(B+1)+1]=65535,z=0;z<=B;z++)k=J,J=l[2*(z+1)+1],++Z<K&&k===J||(Z<Q?n.bl_tree[2*k]+=Z:k!==0?(k!==W&&n.bl_tree[2*k]++,n.bl_tree[32]++):Z<=10?n.bl_tree[34]++:n.bl_tree[36]++,Z=0,W=k,J===0?(K=138,Q=3):k===J?(K=6,Q=3):(K=7,Q=4))}function F(n,l,B){var z,k,W=-1,J=l[1],Z=0,K=7,Q=4;for(J===0&&(K=138,Q=3),z=0;z<=B;z++)if(k=J,J=l[2*(z+1)+1],!(++Z<K&&k===J)){if(Z<Q)do D(n,k,n.bl_tree);while(--Z!=0);else k!==0?(k!==W&&(D(n,k,n.bl_tree),Z--),D(n,16,n.bl_tree),Y(n,Z-3,2)):Z<=10?(D(n,17,n.bl_tree),Y(n,Z-3,3)):(D(n,18,n.bl_tree),Y(n,Z-11,7));Z=0,W=k,J===0?(K=138,Q=3):k===J?(K=6,Q=3):(K=7,Q=4)}}E(P);var o=!1;function f(n,l,B,z){Y(n,0+(z?1:0),3),function(k,W,J,Z){t(k),Z&&(j(k,J),j(k,~J)),d.arraySet(k.pending_buf,k.window,W,J,k.pending),k.pending+=J}(n,l,B,!0)}w.p=function(n){o||(function(){var l,B,z,k,W,J=new Array(16);for(z=0,k=0;k<28;k++)for(G[k]=z,l=0;l<1<<v[k];l++)X[z++]=k;for(X[z-1]=k,W=0,k=0;k<16;k++)for(P[k]=W,l=0;l<1<<p[k];l++)R[W++]=k;for(W>>=7;k<I;k++)for(P[k]=W<<7,l=0;l<1<<p[k]-7;l++)R[256+W++]=k;for(B=0;B<=a;B++)J[B]=0;for(l=0;l<=143;)c[2*l+1]=8,l++,J[8]++;for(;l<=255;)c[2*l+1]=9,l++,J[9]++;for(;l<=279;)c[2*l+1]=7,l++,J[7]++;for(;l<=287;)c[2*l+1]=8,l++,J[8]++;for($(c,287,J),l=0;l<I;l++)_[2*l+1]=5,_[2*l]=te(l,5);ee=new g(c,v,257,A,a),re=new g(_,p,0,I,a),q=new g(new Array(0),m,0,19,7)}(),o=!0),n.l_desc=new O(n.dyn_ltree,ee),n.d_desc=new O(n.dyn_dtree,re),n.bl_desc=new O(n.bl_tree,q),n.bi_buf=0,n.bi_valid=0,U(n)},w.m=f,w.h=function(n,l,B,z){var k,W,J=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=function(Z){var K,Q=4093624447;for(K=0;K<=31;K++,Q>>>=1)if(1&Q&&Z.dyn_ltree[2*K]!==0)return 0;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return 1;for(K=32;K<S;K++)if(Z.dyn_ltree[2*K]!==0)return 1;return 0}(n)),L(n,n.l_desc),L(n,n.d_desc),J=function(Z){var K;for(H(Z,Z.dyn_ltree,Z.l_desc.max_code),H(Z,Z.dyn_dtree,Z.d_desc.max_code),L(Z,Z.bl_desc),K=18;K>=3&&Z.bl_tree[2*y[K]+1]===0;K--);return Z.opt_len+=3*(K+1)+5+5+4,K}(n),k=n.opt_len+3+7>>>3,(W=n.static_len+3+7>>>3)<=k&&(k=W)):k=W=B+5,B+4<=k&&l!==-1?f(n,l,B,z):n.strategy===4||W===k?(Y(n,2+(z?1:0),3),h(n,c,_)):(Y(n,4+(z?1:0),3),function(Z,K,Q,ae){var he;for(Y(Z,K-257,5),Y(Z,Q-1,5),Y(Z,ae-4,4),he=0;he<ae;he++)Y(Z,Z.bl_tree[2*y[he]+1],3);F(Z,Z.dyn_ltree,K-1),F(Z,Z.dyn_dtree,Q-1)}(n,n.l_desc.max_code+1,n.d_desc.max_code+1,J+1),h(n,n.dyn_ltree,n.dyn_dtree)),U(n),z&&t(n)},w.l=function(n,l,B){return n.pending_buf[n.d_buf+2*n.last_lit]=l>>>8&255,n.pending_buf[n.d_buf+2*n.last_lit+1]=255&l,n.pending_buf[n.l_buf+n.last_lit]=255&B,n.last_lit++,l===0?n.dyn_ltree[2*B]++:(n.matches++,l--,n.dyn_ltree[2*(X[B]+S+1)]++,n.dyn_dtree[2*i(l)]++),n.last_lit===n.lit_bufsize-1},w.g=function(n){Y(n,2,3),D(n,256,c),function(l){l.bi_valid===16?(j(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)}(n)}},744:x=>{x.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(x,w,M)=>{var d,E;M.d(w,{s:()=>d,S:()=>E}),function(S){S[S.Inport=0]="Inport",S[S.Outport=1]="Outport",S[S.Undefined=2]="Undefined"}(d||(d={})),function(S){S[S.STOPPED=0]="STOPPED",S[S.RUNNING=1]="RUNNING"}(E||(E={}))},676:(x,w,M)=>{M.d(w,{D:()=>d});const d=0},641:(x,w,M)=>{var d;M.d(w,{OM:()=>A,Le:()=>S,nc:()=>E,n_:()=>I}),function(a){a[a.Float32Audio=0]="Float32Audio",a[a.TypedArray=1]="TypedArray"}(d||(d={}));class E{constructor(){this.type=d.TypedArray}serialize(){return{type:this.type}}}class S{constructor(v,p){this.channels=0,this.sampleRate=0,this.type=d.Float32Audio,this.channels=v,this.sampleRate=p}static fromAudioBuffer(v){return new S(v.numberOfChannels,v.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class A{constructor(v,p){this.buffer=v,this._=p}getAsAudioBuffer(v){if(this._ instanceof S&&this._.channels>0){const y=new Float32Array(this.buffer),c=y.length/this._.channels,_=v.createBuffer(this._.channels,c,this._.sampleRate);for(let R=0;R<this._.channels;R++){const X=_.getChannelData(R);for(let G=0,ee=X.length;G<ee;G++)X[G]=y[G*_.numberOfChannels+R]}return _}const p=new Float32Array(this.buffer),m=v.createBuffer(1,p.length,v.sampleRate);return m.copyToChannel(p,0),m}}const I=a=>{switch(a.type){case d.Float32Audio:return new S(a.channels,a.sampleRate);case d.TypedArray:return new E;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${a.type}`)}}},191:(x,w,M)=>{M.d(w,{v:()=>I});var d=M(163),E=M(347),S=M(389),A=M(133);class I{constructor(){this.I=0,this.M=44100,this.A=64,this.outgoingEvent=new S.BM,this.parameterChangeEvent=new S.BM,this.B=this.sampsToMs(this.A)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(v){return v},convertToNormalizedParameterValue:function(v){return v},convertFromNormalizedParameterValue:function(v){return v},getNumParameters:function(){return 0},constrainParameterValue:function(v){return v},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(v){if(v){const p={},m=Object.keys(v);for(let y=0;y<m.length;y++){const c=m[y];if(c==="subpatches"){const _=Object.keys(v.subpatches);for(let R=0;R<_.length;R++){const X=_[R],G=v.subpatches[X],ee=I.deserializeConversion(G);G.isPolyphonic?p[X]=[ee]:p[X]=ee}}else p[c]=A.evalFunction(v[c])}return p}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.A}sampsToMs(v){return v/this.M*1e3}getNumInputChannels(){return this.T?this.T.numInputChannels:0}getNumOutputChannels(){return this.T?this.T.numOutputChannels:0}getNumMIDIInputPorts(){return this.T?this.T.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.T?this.T.numMidiOutputPorts:0}getNumParameters(){return this.T?this.T.numParameters:0}getNumSignalInParameters(){return this.T?this.T.numSignalInParameters:0}getNumSignalOutParameters(){return this.T?this.T.numSignalOutParameters:0}getPatcherSerial(){return this.T!==void 0?this.T.patcherSerial:0}getParameterName(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);return this.T.parameters[v].name}getParameterId(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);return this.T.parameters[v].paramId}getParameterToNormalizedFunction(v){return p=>this.P.convertToNormalizedParameterValue(v,p)}getParameterFromNormalizedFunction(v){return p=>this.P.convertFromNormalizedParameterValue(v,p)}constrainParameterValue(v){return p=>this.P.constrainParameterValue(v,p)}getParameterInfo(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);const p=this.T.parameters[v];let m,y;switch(p.type){case"ParameterTypeBang":y=A.ParameterTypeBang;break;case"ParameterTypeCount":y=A.ParameterTypeCount;break;case"ParameterTypeList":y=A.ParameterTypeList;break;case"ParameterTypeNumber":y=A.ParameterTypeNumber;break;case"ParameterTypeSignal":y=A.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${p.type}`)}switch(p.ioType){case"IOTypeInput":m=A.IOTypeInput;break;case"IOTypeOutput":m=A.IOTypeOutput;break;case"IOTypeUndefined":m=A.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${p.type}`)}return{displayName:p.displayName,enumValues:p.enumValues,exponent:p.exponent,id:p.paramId,index:v,initialValue:p.initialValue,ioType:m,isEnum:p.isEnum,max:p.maximum,min:p.minimum,name:p.name,signalIndex:p.signalIndex,steps:p.steps,type:y,unit:p.unit,visible:p.visible}}getNumExternalDataRefs(){return this.T!==void 0?this.T.externalDataRefs.length:0}getExternalDataId(v){return this.T!==void 0?this.T.externalDataRefs[v].id:""}getExternalDataRefIds(){let v;return this.T&&(v=[],Object.keys(this.T.externalDataRefs).forEach(p=>{let m=this.T.externalDataRefs[p];v.push(m.id)})),v}getExternalDataRefInfos(){return this.T!==void 0?this.T.externalDataRefs:[]}getNumMessages(){return this.T!==void 0?this.T.inports.length+this.T.outports.length:0}getMessageInfos(){let v=[];return this.T!==void 0&&(Object.keys(this.T.outports).forEach(p=>{v.push({tag:this.T.outports[p].tag,type:E.s.Outport,meta:this.T.outports[p].meta})}),Object.keys(this.T.inports).forEach(p=>{v.push({tag:this.T.inports[p].tag,type:E.s.Inport,meta:this.T.inports[p].meta})})),v}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(v){return(0,d.mG)(this,void 0,void 0,function*(){this.T=v,this.P=I.deserializeConversion(this.T.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(x){this.R.isReady()&&this.R.setCurrentTime(x)}prepareToProcess(x,w,M){(M||x!==this.M||w!==this.A)&&this.R.prepareToProcess(x,w)}process(x,w,M,d,E,S,A){this.R.process(x,w,M,d,E)}scheduleMidiEvent(x,w){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,x,w))}handleParameterEvent(x){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(x.time,x.index,x.value,x.source))}handleMidiEvent(x){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(x.time,x.port,[x.b1,x.b2,x.b3],void 0))}handleMessageEvent(x){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(x.time,this.R.resolveTag(x.tag),x.type===0?x.numValue:x.type===1?this.R.retrieveArray(x.listValue):void 0,this.R.resolveTag(x.objectId)))}handlePresetEvent(x){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(x.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(x){return this.R.getParameterValue(x)}get isSync(){return!0}scheduleEvent(x){this.R.scheduleEvent(x)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(x=>(delete x.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,x),resolve()))})})}setExternalData(x,w,M){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(x,w,M)})}releaseExternalData(x){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[w,M]=this.R.releaseExternalData(x);return{data:w,typeDesc:M}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(x){this.R.setPreset(JSON.stringify(x))}}},158:(x,w,M)=>{M.d(w,{z:()=>A});var d=M(641),E=M(555),S=M(856);class A{constructor(a,v){this.O=0,this.C=0,this.N=!1,this.k=new S.aO,this.U=v;let p=new this.U.CoreObject;this.j=p;let m={handleParameterEvent:a.handleParameterEvent.bind(a),handleMidiEvent:a.handleMidiEvent.bind(a),handleMessageEvent:a.handleMessageEvent.bind(a),handlePresetEvent:a.handlePresetEvent.bind(a)},y=this.U.EventHandler.implement(m);this.F=p.createParameterInterface(y);for(let c=0;c<p.getNumParameters();c++){let _=p.getParameterInfo(c);this.k.addParam(_,p.getParameterName(c))}this.O=p.getNumInputChannels()+p.getNumSignalInParameters(),this.C=p.getNumOutputChannels(),this.N=!0}isReady(){return this.N}pushArray(a){let v=this.j.getArrayPassingHEAP(a.length);return this.U.HEAPF64.set(a,v>>3),v}retrieveArray(a){let v=[];for(let p=0;p<a.size();p++)v.push(a.get(p));return v}setExternalData(a,v,p){const m=new Uint8Array(v),y=this.j.getNewMemoryBuffer(m.byteLength);this.U.HEAPU8.set(m,y),p instanceof d.Le?this.j.setExternalAudioBuffer(a,y,m.byteLength,p.channels,p.sampleRate):p instanceof d.nc&&this.j.setExternalUntypedBuffer(a,y,m.byteLength)}releaseExternalData(a){let v,p=this.j.getDataRefIndex(a),m=this.j.getDataRefType(p),y=this.j.getDataRefData(p),c=new Uint8Array(y.sizeInBytes);return c.set(this.U.HEAPU8.subarray(y.data,y.data+y.sizeInBytes)),v=m.type==1?new d.Le(m.channels,m.sampleRate):new d.nc,this.j.releaseDataRef(p),[c.buffer,v]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(a){this.j.setCurrentTime(a)}prepareToProcess(a,v){this.j.prepareToProcess(a,v)}process(a,v,p,m,y,c){let _=0,R=0;for(let X=0;X<v&&_<this.O;X++){let G=a[X],ee=this.j.getInputChannel(_);this.U.HEAPF64.set(G,ee>>3),_++}if(c)for(let X=_;X<this.O;X++){let G=this.k.getParamName(X);if(G!==void 0){let ee=this.j.getInputChannel(X);this.U.HEAPF64.set(this.k.getParamArray(X,c[G],y),ee>>3),_++}}this.j.process(_,this.C,y);for(let X=0;X<m&&R<this.C;X++){let G=p[X],ee=this.j.getOutputChannel(R)>>3;G.set(this.U.HEAPF64.subarray(ee,ee+G.length)),R++}}resolveTag(a){return this.j.resolveTag(a)}scheduleEvent(a){a.type===E.m5.MIDIEvent?this.j.scheduleMidiEvent(a.time,a.port,a.data[0],a.data[1],a.data[2]):a.type===E.m5.ParameterEvent?this.j.scheduleParameterEvent(a.target,a.time,a.value,a.source):a.type===E.m5.MessageEvent?Array.isArray(a.payload)?this.j.sendListMessage(a.tag,a.objectId,this.pushArray(a.payload),a.payload.length,a.time):typeof a.payload=="number"?this.j.sendNumMessage(a.tag,a.objectId,a.payload,a.time):a.payload===void 0&&this.j.sendBangMessage(a.tag,a.objectId,a.time):a.type===E.m5.TransportEvent?this.j.scheduleTransportEvent(a.time,a.state):a.type===E.m5.TempoEvent?this.j.scheduleTempoEvent(a.time,a.tempo):a.type===E.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(a.time,a.beattime):a.type===E.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(a.time,a.numerator,a.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(a){return this.j.getParameterValue(a)}numIns(){return this.O}numOuts(){return this.C}getPreset(){return this.j.getPreset()}setPreset(a){this.j.setPreset(a)}}},555:(x,w,M)=>{M.d(w,{j4:()=>a,J0:()=>G,J9:()=>v,Lk:()=>p,VH:()=>E,m5:()=>d,Ym:()=>y,f3:()=>m,DB:()=>c,bt:()=>_,l0:()=>S,j6:()=>re,gs:()=>X,QU:()=>ee,cr:()=>R,gA:()=>A,f4:()=>q});var d,E,S,A,I=M(676);(function(P){P[P.BufferTransfer=0]="BufferTransfer",P[P.ClockEvent=1]="ClockEvent",P[P.DataRefEvent=2]="DataRefEvent",P[P.MessageEvent=3]="MessageEvent",P[P.MIDIEvent=4]="MIDIEvent",P[P.ParameterEvent=5]="ParameterEvent",P[P.PresetEvent=6]="PresetEvent",P[P.StartupEvent=7]="StartupEvent",P[P.TransportEvent=8]="TransportEvent",P[P.TempoEvent=9]="TempoEvent",P[P.BeatTimeEvent=10]="BeatTimeEvent",P[P.TimeSignatureEvent=11]="TimeSignatureEvent"})(d||(d={}));class a{constructor(g=I.D,O){this.invalid=!1,this.time=g,this.eventTarget=O}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class v extends a{constructor(g,O,i,j){super(g,j),this.type=d.ClockEvent,this.clockIndex=O,this.value=i}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(P){P[P.Update=1]="Update"})(E||(E={}));class p extends a{constructor(g,O,i,j){super(g,j),this.type=d.DataRefEvent,this.dataRefIndex=O,this.action=i}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class m extends a{constructor(g,O,i,j="",Y){super(g,Y),this.type=d.MessageEvent,this.objectId=j,this.tag=O,this.payload=i}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends a{constructor(g,O,i,j){if(super(g,j),this.type=d.MIDIEvent,i.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${i.length}`);if(this.data=i,this.data.length<3){const D=i.length;this.data.length=3,this.data=this.data.fill(void 0,D,3)}let Y=0;for(let D=0;D<3;D++)i[D]!==void 0&&Y++;if(Y<1)throw new Error("MIDIData must at least have the first byte set.");this.length=Y,this.status=240&i[0],this.channel=15&i[0],this.port=O}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends a{constructor(g,O,i,j,Y){super(g,Y),this.type=d.ParameterEvent,this.target=O,this.value=i,this.source=j}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}(function(P){P[P.Set=1]="Set",P[P.Touched=2]="Touched"})(S||(S={}));class _ extends a{constructor(g,O,i){super(g,void 0),this.type=d.PresetEvent,this.action=O,this.preset=i}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class R extends a{constructor(g,O){super(g,void 0),this.type=d.TransportEvent,this.state=O}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class X extends a{constructor(g,O){super(g,void 0),this.type=d.TempoEvent,this.tempo=O}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class G extends a{constructor(g,O){super(g,void 0),this.type=d.BeatTimeEvent,this.beattime=O}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class ee extends a{constructor(g,O,i){super(g,void 0),this.type=d.TimeSignatureEvent,this.numerator=O,this.denominator=i}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(P){P[P.BEGIN=0]="BEGIN",P[P.END=1]="END"})(A||(A={}));class re extends a{constructor(g,O){super(g,void 0),this.type=d.StartupEvent,this.phase=O}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const q=P=>{switch(P.type){case d.ClockEvent:return new v(P.time,P.clockIndex,P.value,P.eventTarget);case d.DataRefEvent:return new p(P.time,P.dataRefIndex,P.action,P.eventTarget);case d.MessageEvent:return new m(P.time,P.tag,P.payload,P.objectId,P.eventTarget);case d.MIDIEvent:return new y(P.time,P.port,P.data,P.eventTarget);case d.ParameterEvent:return new c(P.time,P.target,P.value,P.source,P.eventTarget);case d.PresetEvent:return new _(P.time,P.action,P.preset);case d.TransportEvent:return new R(P.time,P.state);case d.TempoEvent:return new X(P.time,P.tempo);case d.BeatTimeEvent:return new G(P.time,P.beattime);case d.TimeSignatureEvent:return new ee(P.time,P.numerator,P.denominator);case d.StartupEvent:return new re(P.time,P.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${P.type}`)}}},400:(x,w,M)=>{var d,E;M.d(w,{r:()=>d,E:()=>E}),function(S){S[S.Number=0]="Number",S[S.Bang=1]="Bang",S[S.List=2]="List",S[S.Signal=3]="Signal",S[S.Count=4]="Count",S[S.Enum=5]="Enum"}(d||(d={})),function(S){S[S.All=0]="All",S[S.Internal=1]="Internal"}(E||(E={}))},856:(x,w,M)=>{M.d(w,{jN:()=>a,IR:()=>S,V2:()=>I,BX:()=>A,EX:()=>d.E,rH:()=>d.r,aO:()=>m,zT:()=>p});var d=M(400),E=M(389);function S(y){return class extends y{constructor(...c){super(),this.changeEvent=new E.BM,this.L=new E.BM;const _=c[0];this.X=_.notificationSetting,this.convertFromNormalizedValue=_.scaling.convertFromNormalized,this.convertToNormalizedValue=_.scaling.convertToNormalized,this.constrainParameterValue=_.scaling.constrainParameterValue,this.initialValue=_.initialValue,this.V=_.initialValue,this.displayName=_.displayName||_.name,this.exponent=_.exponent,this.id=_.id,this.index=_.index,this.min=_.min,this.max=_.max,this.name=_.name,this.steps=_.steps,this.unit=_.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(c){this.q(this.convertFromNormalizedValue(c))}$(c){this.X=c}q(c){c=this.constrainParameterValue(c),this.V!==c&&(this.V=c,this.L.emit(this),this.notificationSetting===d.E.All&&this.changeEvent.emit(c))}W(c){this.V=c,this.changeEvent.emit(c)}}}class A extends S(Object){constructor(c){super(c),this.type=d.r.Number}get value(){return this.V}set value(c){this.q(c)}}class I extends S(Object){constructor(c){super(c),this.type=d.r.Enum,this.G=c.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(c){const _=this.G.indexOf(c);if(_<0)throw new Error(`Invalid EnumValue. ${c} is not an available value on the enum parameter ${this.name}`);this.value=_}get value(){return this.V}set value(c){this.q(c)}}class a extends S(Object){constructor(){super(...arguments),this.type=d.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var v=M(133);const p=(y,c,_,R)=>y.type===d.r.Number&&y.enumValues.length?new I(Object.assign(Object.assign({},y),{scaling:R,index:c,notificationSetting:_})):y.type===d.r.Bang?new a(Object.assign(Object.assign({},y),{scaling:R,index:c,notificationSetting:_})):(y.type,d.r.Number,new A(Object.assign(Object.assign({},y),{scaling:R,index:c,notificationSetting:_})));class m{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(c,_){c.type==v.ParameterTypeSignal&&c.ioType===v.IOTypeInput&&(this.K[c.signalIndex]={name:_,param:new Float32Array(128)})}getParamName(c){let _=this.K[c];return _!==void 0?_.name:void 0}getParamArray(c,_,R){if(_.length==R)return _;{let X=this.K[c];return X.param.length!=R&&(X.param=new Float32Array(R)),X.param.fill(_[0])}}}},389:(x,w,M)=>{M.d(w,{f8:()=>d,e1:()=>E,I7:()=>S,EL:()=>I,BM:()=>v});const d=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const p=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(p instanceof WebAssembly.Module)return new WebAssembly.Instance(p)instanceof WebAssembly.Instance}}catch{}return!1})();class E{fromRNBOtime(m){return .001*m}toRNBOtime(m){return 1e3*m}}const S=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let A=Math.pow(10,4);const I=()=>(A>=Number.MAX_SAFE_INTEGER&&(A=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(A++).toString(10).slice(-4)}`,10)),a=p=>p.slice();class v{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(m){if(this.Z.length){const y=a(this.Z);for(let c=0,_=y.length;c<_;c++)y[c](m)}if(this.H.length){const y=a(this.H);for(let c=0,_=y.length;c<_;c++)y[c](m);y.forEach(c=>this.unsubscribe(c))}}once(m){return this.H.push(m),{unsubscribe:()=>this.unsubscribe(m)}}subscribe(m){return this.Z.push(m),{unsubscribe:()=>this.unsubscribe(m)}}unsubscribe(m){const y=this.Z.indexOf(m);y>=0&&this.Z.splice(y,1);const c=this.H.indexOf(m);c>=0&&this.H.splice(c,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(x,w,M)=>{function d(E,S,A,I){return new(A||(A=Promise))(function(a,v){function p(c){try{y(I.next(c))}catch(_){v(_)}}function m(c){try{y(I.throw(c))}catch(_){v(_)}}function y(c){var _;c.done?a(c.value):(_=c.value,_ instanceof A?_:new A(function(R){R(_)})).then(p,m)}y((I=I.apply(E,S||[])).next())})}M.d(w,{mG:()=>d})},264:x=>{x.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(x){var w=__webpack_module_cache__[x];if(w!==void 0)return w.exports;var M=__webpack_module_cache__[x]={exports:{}};return __webpack_modules__[x](M,M.exports,__webpack_require__),M.exports}__webpack_require__.n=x=>{var w=x&&x.J?()=>x.default:()=>x;return __webpack_require__.d(w,{a:w}),w},__webpack_require__.d=(x,w)=>{for(var M in w)__webpack_require__.o(w,M)&&!__webpack_require__.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:w[M]})},__webpack_require__.o=(x,w)=>Object.prototype.hasOwnProperty.call(x,w),__webpack_require__.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>S.jN,BaseDevice:()=>R,BaseEvent:()=>I.j4,BeatTimeEvent:()=>I.J0,CommonParameterMixin:()=>S.IR,DataBuffer:()=>d.OM,DeviceType:()=>c,EnumParameter:()=>S.V2,EventSubject:()=>E.BM,EventType:()=>I.m5,MIDIEvent:()=>I.Ym,MessageEvent:()=>I.f3,MessagePortType:()=>N.s,NumberParameter:()=>S.BX,ParameterNotificationSetting:()=>S.EX,ParameterType:()=>S.rH,PresetEvent:()=>I.bt,RNBOPresetEventAction:()=>I.l0,ScriptDevice:()=>j,TempoEvent:()=>I.gs,TimeNow:()=>u.D,TimeSignatureEvent:()=>I.QU,TransportEvent:()=>I.cr,TransportState:()=>N.S,WorkletDevice:()=>t,createDevice:()=>H,version:()=>h});var x=__webpack_require__(163),w=__webpack_require__(845),M=__webpack_require__.n(w),d=__webpack_require__(641),E=__webpack_require__(389),S=__webpack_require__(856),A=__webpack_require__(400),I=__webpack_require__(555);const a={notificationSetting:A.E.All};class v{constructor(o){this.tt=new Map,this.et=new Map,this.id=(0,E.EL)(),this.parameterChangeEvent=new E.BM,this.rt=n=>{const l=this.tt.get(n.target);if(!l)return;const B=n.value;l.type!==A.r.Bang&&B===l.value||(l.W(B),this.parameterChangeEvent.emit(l))},this.nt=n=>{const l=n.index,B=n.type===A.r.Bang?1:n.value,z=new I.DB(0,l,B,this.id,void 0);this.it&&this.it.scheduleEvent(z),this.notificationSetting===A.E.All&&this.parameterChangeEvent.emit(n)};const f=Object.assign({},a,o);this.X=f.notificationSetting}st(o){return this.tt.get(o)||void 0}ot(){for(const o of this.tt.values())o.L.removeAllSubscriptions(),o.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let o=0,f=this.it.getNumParameters();o<f;o++){const n=this.it.getParameterInfo(o);if(!n||!n.visible)continue;const l=(0,S.zT)(n,o,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(o),convertToNormalized:this.it.getParameterToNormalizedFunction(o),constrainParameterValue:this.it.constrainParameterValue(o)});l.L.subscribe(this.nt),this.tt.set(o,l),this.et.set(n.id,l)}}setEngine(o){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=o,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(o){for(const f of this.tt.values())f.$(o);this.X=o}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(o){const f=this.st(o);return f?f.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var p;function m(F){return F.file!==void 0}function y(F){return F.url!==void 0}(function(F){F[F.AudioBuffer=1]="AudioBuffer",F[F.DataBuffer=2]="DataBuffer",F[F.ReferenceBuffer=3]="ReferenceBuffer"})(p||(p={}));var c,_=__webpack_require__(834).Buffer;(function(F){F.Script="script",F.Worklet="worklet",F.Invalid="invalid"})(c||(c={}));class R{constructor({context:o,parameterNotificationSetting:f,type:n}){this.ht=!1,this.ft="wasm",this.ct=new E.e1,this.lt=!0,this.midiEvent=new E.BM,this.messageEvent=new E.BM,this.parameterChangeEvent=new E.BM,this.invalidateEvent=new E.BM,this.presetTouchedEvent=new E.BM,this.dt=l=>{switch(l.type){case I.m5.ClockEvent:case I.m5.DataRefEvent:case I.m5.StartupEvent:break;case I.m5.MIDIEvent:return void this.midiEvent.emit(l);case I.m5.MessageEvent:return void this.messageEvent.emit(l);case I.m5.PresetEvent:if(l.action==I.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(l),new Error(`Unknown or unsupported RNBOEvent type "${l.type}"`)}},this.gt=l=>{this.parameterChangeEvent.emit(l)},this._t=o,this.yt=n,this.F=new v({notificationSetting:f})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(o,f,n){this.it&&this.it.prepareToProcess(o,f,n)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(o){const f=_.from(o.code,o.encoding);return o.compression==="zlib"?M().inflate(f.toString("binary"),{to:"string"}):f.toString("utf-8")}get context(){return this.wt(),this._t}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(o){this.wt(),this.F.notificationSetting=o}get sourceType(){return this.ft}get type(){return this.isInvalid?c.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(o,f,n,l){return(0,x.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(k=>k.id===o))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${o}" does not exist within the device.`);let B,z;if(f instanceof AudioBuffer){z=d.Le.fromAudioBuffer(f);const k=f.numberOfChannels,W=new Float32Array(f.length*f.numberOfChannels),J=[];for(let Z=0;Z<k;Z++){const K=new Float32Array(f.length);f.copyFromChannel(K,Z,0),J.push(K)}for(let Z=0;Z<k;Z++)for(let K=0,Q=f.length;K<Q;K++)W[K*k+Z]=J[Z][K];B=W.buffer}else{if(!n||n<0||isNaN(n))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!l||l<0||isNaN(l))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");B=ArrayBuffer.isView(f)?f.buffer.slice(0):f.slice(0),z=new d.Le(n,l)}yield this.it.setExternalData(o,B,z)})}releaseDataBuffer(o){return(0,x.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(l=>l.id===o))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${o}" does not exist within the device.`);const{data:f,typeDesc:n}=yield this.it.releaseExternalData(o);return new d.OM(f,n)})}static fetchAudioData(o,f){return(0,x.mG)(this,void 0,void 0,function*(){let n=yield fetch(o),l=yield n.arrayBuffer();return new Promise((B,z)=>{f.decodeAudioData(l,B,z)})})}static bufferDescriptionHasRemoteURL(o){return!!y(o)||!(!m(o)||!o.file.startsWith("http:")&&!o.file.startsWith("https:"))}loadDataBufferDependencies(o){return(0,x.mG)(this,void 0,void 0,function*(){return Promise.all(o.map(f=>(0,x.mG)(this,void 0,void 0,function*(){try{let n;if(y(f)?n=f.url:m(f)&&(n=f.file),n){const l=yield R.fetchAudioData(n,this.context);return this.setDataBuffer(f.id,l),{type:"success",id:f.id}}throw new Error(`Skipping invalid buffer info id: ${f.id}, type: ${f.type}`)}catch(n){return{type:"fail",error:n,id:f.id}}})))})}scheduleEvent(o){this.wt(),this.it&&this.it.scheduleEvent(o)}destroy(){this.wt(),this.F.destroy(),this.it&&this.it.removeAllSubscriptions(),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,x.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(o){return this.it.setPreset(o)}}var X=__webpack_require__(191),G=__webpack_require__(133);const ee=__webpack_require__(264);function re(F,o){return F.time-o.time}function q(F){F.sort(re)}class P extends X.v{constructor(){super(),this.At=!1,this.Bt=!1,this.Tt=void 0,this.St=-1,this.Pt=[],this.At=!1,this.setPatcherDesc(ee.desc),this.setPatcherCode(ee.src[0].code)}Rt(o){const f=o.eventTarget||this.Dt;if(o.time=Math.max(o.time,this.I),this.Tt=o,o.type===I.m5.ParameterEvent){const n=o;f.setParameterValue(n.target,n.value,o.time)}else if(o.type===I.m5.MIDIEvent){const n=o;f.processMidiEvent(n.time,n.port,n.data,n.length)}else if(o.type===I.m5.ClockEvent){const n=o;f.processClockEvent(n.time,n.clockIndex,n.hasValue,n.value)}else if(o.type===I.m5.DataRefEvent){const n=o;n.action===I.VH.Update&&f.processDataViewUpdate(n.dataRefIndex,n.time)}else if(o.type===I.m5.MessageEvent){const n=o;Array.isArray(n.payload)?f.processListMessage(G.TAG(n.tag),G.TAG(n.objectId),n.time,n.payload):n.payload===void 0?f.processBangMessage(G.TAG(n.tag),G.TAG(n.objectId),n.time):f.processNumMessage(G.TAG(n.tag),G.TAG(n.objectId),n.time,n.payload)}else if(o.type===I.m5.PresetEvent){const n=o;n.action===I.l0.Set&&(this.Bt=!0,this.Dt.setPreset(n.time,n.preset),this.Bt=!1)}else if(o.type===I.m5.TransportEvent){const n=o;this.Dt.processTransportEvent(n.time,n.state)}else if(o.type===I.m5.TempoEvent){const n=o;this.Dt.processTempoEvent(n.time,n.tempo)}else if(o.type===I.m5.BeatTimeEvent){const n=o;this.Dt.processBeatTimeEvent(n.time,n.beattime)}else if(o.type===I.m5.TimeSignatureEvent){const n=o;this.Dt.processTimeSignatureEvent(n.time,n.numerator,n.denominator)}else if(o.type===I.m5.StartupEvent){const n=o;this.Bt=n.phase===I.gA.BEGIN}this.Tt=void 0}getCurrentTime(){return this.I}setCurrentTime(o){this.I=o}prepareToProcess(o,f,n){(n||o!==this.M||f!==this.A)&&(this.M=o,this.A=f,this.B=this.sampsToMs(this.A),this.isSync&&this.Dt.prepareToProcess(this.M,this.A))}process(o,f,n,l,B,z,k){const W=Math.min(f,this.getNumInputChannels()+this.getNumSignalInParameters()),J=Math.min(l,this.getNumOutputChannels()),Z=Math.min(B,this.A);for(this.St=this.I+this.B,this.midiInput!==void 0&&(this.Pt.push.apply(this.Pt,z),this.At=!0),this.At&&(q(this.Pt),this.At=!1);this.Pt.length>0&&this.Pt[0].time<this.St;)this.Rt(this.Pt.shift());this.Dt.process(o,W,n,J,Z),this.I=this.St,this.St=-1}scheduleMidiEvent(o,f){this.scheduleEvent(new I.Ym(this.I,o,f,this.Dt))}notifyParameterValueChanged(o,f){let n=this.Tt?this.Tt.source:void 0;this.parameterChangeEvent.emit(new I.DB(this.getCurrentTime(),o,f,n))}scheduleParameterChange(o,f,n){this.scheduleEvent(new I.DB(this.getCurrentTime(),o,f,void 0))}sendNumMessage(o,f,n){const l=new I.f3(this.I,this.Dt.resolveTag(o),n,this.Dt.resolveTag(f));this.outgoingEvent.emit(l)}sendBangMessage(o,f){const n=new I.f3(this.I,this.Dt.resolveTag(o),void 0,this.Dt.resolveTag(f));this.outgoingEvent.emit(n)}sendListMessage(o,f,n){const l=new I.f3(this.I,this.Dt.resolveTag(o),n,this.Dt.resolveTag(f));this.outgoingEvent.emit(l)}getParameterValue(o){return this.Dt.getParameterValue(o)}flushClockEvents(o,f,n){this.flushClockEventsWithValue(o,f,void 0,n)}flushClockEventsWithValue(o,f,n,l){for(let B=0;B<this.Pt.length;B++)if(this.Pt[B]instanceof I.J9){const z=this.Pt[B];z.eventTarget!==o||z.clockIndex!==f&&z.clockIndex!==void 0||n!==void 0&&z.value!==n||(this.Pt.splice(B,1),l&&this.Rt(z),B--)}}deleteClockEvents(o){this.flushClockEvents(o,void 0,!1)}scheduleClockEvent(o,f,n){this.scheduleClockEventWithValue(o,f,n,void 0)}scheduleClockEventWithValue(o,f,n,l){this.scheduleEvent(new I.J9(n,f,l,o))}sendMidiEvent(o,f,n,l){const B=new I.Ym(this.getCurrentTime(),o,[f,n,l],void 0);this.outgoingEvent.emit(B)}sendMidiEventList(o,f){let n;for(n=2;n<f.length;n+=3)this.sendMidiEvent(o,f[n-2],f[n-1],f[n]);if(n-=3,n<f.length){var l=n-f.length;this.sendMidiEvent(o,f[n],l>1?f[n+1]:void 0,l>2?f[n+2]:void 0)}}sendOutlet(o,f,n){console.log("sendOutlet",o,f,n)}updatePatcherEventTarget(o,f){for(let n=0;n<this.Pt.length;n++)this.Pt[n].eventTarget===o&&(this.Pt[n].eventTarget=f,this.Pt[n].invalid=!1)}rescheduleEventTarget(o){for(let f=0;f<this.Pt.length;f++)this.Pt[f].eventTarget===o&&(this.Pt[f].invalid=!1)}isInProcess(){return this.St>-1}sendDataRefUpdated(o){this.scheduleEvent(new I.Lk(this.getCurrentTime(),o,I.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(o){this.Pt.push(o),this.isInProcess()?q(this.Pt):this.At=!0}setPatcherCode(o){return(0,x.mG)(this,void 0,void 0,function*(){const f={};this.Dt&&this.Dt.getState(f),this.Dt=G.deserializeSrc(o);for(let n=0;n<this.Pt.length;n++)this.Pt[n].eventTarget&&(this.Pt[n].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new I.j6(this.I,I.gA.BEGIN)),this.Dt.initialize(f),this.scheduleEvent(new I.j6(this.I,I.gA.END)),this.Dt.prepareToProcess(this.M,this.A,!0);for(let n=this.Pt.length-1;n>=0;n--)this.Pt[n].invalid&&this.Pt.splice(n,1)})}setExternalData(o,f,n){return(0,x.mG)(this,void 0,void 0,function*(){const l=this.Dt.getNumDataRefs();for(let B=0;B<l;B++){const z=this.Dt.getDataRef(B);if(z.name==o){z.arrayBuffer=f,n instanceof d.Le&&(z.channels=n.channels,z.sampleRate=n.sampleRate),this.sendDataRefUpdated(B);break}}})}releaseExternalData(o){return(0,x.mG)(this,void 0,void 0,function*(){const f=this.Dt.getNumDataRefs();let n,l;for(let B=0;B<f;B++){const z=this.Dt.getDataRef(B);if(z.name==o){n=z.arrayBuffer,z.arrayBuffer=new ArrayBuffer(0),z.channels?(l=new d.Le(z.channels,z.sampleRate),z.channels=0,z.sampleRate=0):l=new d.nc,this.sendDataRefUpdated(B);break}}if(!n)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${o} found.`);return{data:n,typeDesc:l}})}getPreset(){return(0,x.mG)(this,void 0,void 0,function*(){let o={};return this.Dt.getPreset(o),o})}setPreset(o){this.scheduleEvent(new I.bt(this.I,I.l0.Set,o))}presetTouched(){this.Bt||this.outgoingEvent.emit(new I.bt(this.I,I.l0.Touched,void 0))}}var g,O,i=__webpack_require__(916);class j extends R{constructor({bufferSize:o=1024,context:f,parameterNotificationSetting:n},l){super({context:f,parameterNotificationSetting:n,type:c.Script}),this.bufferSize=o,this.it=l&&l.sourceType!=="wasm"?l.it:void 0}Ot(o){const f=[],n=[],l=o.inputBuffer,B=o.outputBuffer,z=l?l.numberOfChannels:0,k=B?B.numberOfChannels:0;for(let W=0;W<Math.max(z,k);W++)W<z&&(f[W]=l.getChannelData(W)),W<k&&(n[W]=B.getChannelData(W));this.Ct(1e3*o.playbackTime),this.It(o.outputBuffer.sampleRate,this.bufferSize,!1),this.Nt(f,z,n,k,this.bufferSize,null,null)}Nt(o,f,n,l,B,z,k){this.it&&this.it.process(o,f,n,l,B,z||void 0,k||void 0)}Ct(o){this.it&&this.it.setCurrentTime(o)}get node(){return this.wt(),this.Mt}setPatcher(o,f){return(0,x.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=f.type==="wasm"?new i.s:new P),this.ft=f.type,yield this.it.setPatcherDesc(o),yield this.it.setPatcherCode(this.Et(f)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(F){F[F.LoadPatcher=0]="LoadPatcher",F[F.ScheduleEvent=1]="ScheduleEvent",F[F.TransferBuffer=2]="TransferBuffer",F[F.ReleaseBuffer=3]="ReleaseBuffer",F[F.SetPreset=4]="SetPreset",F[F.GetPreset=5]="GetPreset"})(g||(g={})),function(F){F[F.LoadPatcherFinished=1e3]="LoadPatcherFinished",F[F.OutgoingEvent=1002]="OutgoingEvent",F[F.ReleasedBuffer=1003]="ReleasedBuffer",F[F.TransferBufferFinished=1004]="TransferBufferFinished",F[F.GetPresetResponse=1005]="GetPresetResponse"}(O||(O={}));class Y extends X.v{constructor(){super(),this.kt=new E.BM,this.xt=new E.BM,this.Ut=o=>{if(o.id!==O.OutgoingEvent||o.payload.type!==I.m5.ParameterEvent)if(o.id!==O.OutgoingEvent){if(o.id!==O.LoadPatcherFinished&&o.id!==O.TransferBufferFinished&&o.id!==O.ReleasedBuffer&&o.id!==O.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${o.id}`)}else this.outgoingEvent.emit(o.payload);else this.parameterChangeEvent.emit(o.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(o,f,n,l){this.parameterChangeEvent.emit(new I.DB(o,f,n,l,void 0))}prepareToProcess(o,f,n){}process(o,f,n,l,B,z,k){throw new Error}get isSync(){return!1}scheduleEvent(o){this.xt.emit({id:g.ScheduleEvent,payload:o})}setExternalData(o,f,n){return new Promise((l,B)=>{const z=this.kt.subscribe(k=>{k.id===O.TransferBufferFinished&&k.payload.memoryId===o&&(z.unsubscribe(),l())});this.xt.emit({id:g.TransferBuffer,payload:{memoryId:o,data:f,typeDesc:n}})})}releaseExternalData(o){return new Promise((f,n)=>{const l=this.kt.subscribe(B=>{B.id===O.ReleasedBuffer&&B.payload.memoryId===o&&(l.unsubscribe(),f({data:B.payload.data,typeDesc:(0,d.n_)(B.payload.typeDesc)}))});this.xt.emit({id:g.ReleaseBuffer,payload:{memoryId:o}})})}getPreset(){return(0,x.mG)(this,void 0,void 0,function*(){return new Promise((o,f)=>{const n=this.kt.subscribe(l=>{l.id===O.GetPresetResponse&&(n.unsubscribe(),o(l.payload.preset))});this.xt.emit({id:g.GetPreset})})})}setPreset(o){this.xt.emit({id:g.SetPreset,payload:{preset:o}})}setPatcherCode(o){return(0,x.mG)(this,void 0,void 0,function*(){})}}const D=()=>{if(!E.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(F,o,f,n){super(F,o,n),this.jt=l=>{const[B,z]=l.data;if(B!==O.OutgoingEvent)if(B!==O.LoadPatcherFinished)if(B!==O.TransferBufferFinished)if(B!==O.ReleasedBuffer){if(B!==O.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${B}`);this.zt.fromProcessorEvent.emit({id:B,payload:z})}else this.zt.fromProcessorEvent.emit({id:B,payload:z});else this.zt.fromProcessorEvent.emit({id:B,payload:z});else this.zt.fromProcessorEvent.emit({id:B,payload:z});else this.zt.fromProcessorEvent.emit({id:B,payload:(0,I.f4)(z)})},this.Ft=l=>{l.id!==g.ScheduleEvent?l.id!==g.TransferBuffer?l.id!==g.ReleaseBuffer?l.id!==g.GetPreset?l.id!==g.SetPreset||this.port.postMessage([l.id,{preset:l.payload.preset}]):this.port.postMessage([l.id]):this.port.postMessage([l.id,{memoryId:l.payload.memoryId}]):this.port.postMessage([l.id,{data:l.payload.data,memoryId:l.payload.memoryId,typeDesc:l.payload.typeDesc.serialize()}],[l.payload.data]):this.port.postMessage([l.id,l.payload.serialize()])},this.zt=f,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,x.mG)(this,void 0,void 0,function*(){return new Promise(F=>{const o=this.zt.fromProcessorEvent.subscribe(f=>{f.id===O.LoadPatcherFinished&&(o.unsubscribe(),F())});this.port.postMessage([g.LoadPatcher])})})}}};var te=__webpack_require__(834).Buffer;const $=__webpack_require__(264),U={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let A=function(t){return w.call(this,t,Int32Array)};(A.prototype=Object.create(w.prototype)).constructor=A;let P=function(t){return w.call(this,t,Uint8Array)};(P.prototype=Object.create(w.prototype)).constructor=P,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:A,UInt8Buffer:P}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class I extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class w extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class T extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const B=__webpack_require__(264);function S(t,e){return t.time-e.time}function A(t){t.sort(S)}class P extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(B.desc),this.setPatcherCode(B.src[0].code)}S(t){const e=t.eventTarget||this.A;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.A.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.A.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.A.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.A.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.A.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.A.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.A.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.A))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}sendNumMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.A.resolveTag(t),void 0,this.A.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.A.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.A))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.A&&this.A.getState(e),this.A=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.A.setEngineAndPatcher(this,null),this.scheduleEvent(new T(this.h,d.BEGIN)),this.A.initialize(e),this.scheduleEvent(new T(this.h,d.END)),this.A.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();for(let s=0;s<e;s++){const e=this.A.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.A.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.A.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new I(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new I(this.h,l.Touched,void 0))}}var O,D;function N(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.P=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.P.emit(this),this.notificationSetting===D.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(O||(O={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(D||(D={}));N(Object);N(Object);N(Object);class R{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var x,C;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(x||(x={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(C||(C={}));var k=__webpack_require__(834).Buffer;const U=JSON.parse(k.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),j=k.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class X extends AudioWorkletProcessor{constructor(i){super(i),this.j=new P,this.X=[],this.F=[],this.$=new R,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case x.LoadPatcher:yield this.j.setPatcherDesc(U),yield this.j.setPatcherCode(j);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([C.LoadPatcherFinished]);break;case x.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.PresetEvent:return new I(t.time,t.action,t.preset);case f.TransportEvent:return new w(t.time,t.state);case f.TempoEvent:return new v(t.time,t.tempo);case f.BeatTimeEvent:return new M(t.time,t.beattime);case f.TimeSignatureEvent:return new E(t.time,t.numerator,t.denominator);case f.StartupEvent:return new T(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case x.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([C.TransferBufferFinished,{memoryId:e.memoryId}]);break}case x.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([C.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case x.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([C.GetPresetResponse,{preset:t}]);break}case x.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}const u=o>0?this.F[0].length:s>0?this.X[0].length:e.length>0?e[0][0].length:t.length>0?t[0][0].length:0;for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let z="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";z.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(z="RNBOProcessor"),registerProcessor(z,X)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=128,this.T=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.C=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.C.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.C.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.C.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.C.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.C.setPreset(JSON.stringify(t.preset))}}},this.port.onmessage=this.T,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.getB1(),t.getB2(),t.getB3()],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.C.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.C.retrieveArray(t.listValue):void 0,this.C.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.C||!this.C.isReady())return!0;let s=this.C.numOuts()>0?e[0][0].length:this.C.numIns()>0?t[0][0].length:e.length>0?e[0][0].length:t.length>0?t[0][0].length:0;s||(s=this.P),this.P<s&&(this.P=s),this.C.setCurrentTime(1e3*currentTime),this.C.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.C.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.C.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.C.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.C.numOuts();t++)o.push(n[t]),i++}return this.C.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class t extends R{constructor({context:o,parameterNotificationSetting:f},n){super({context:o,parameterNotificationSetting:f,type:c.Worklet}),n?this.it=n.it:(this.it=new Y,this.it.setPatcherDesc($.desc),this.it.setPatcherCode($.src[0].code)),this.Mt=n?n.node:void 0}Lt(){let o="[";const f=this.it.getNumParameters();let n=!0;for(let l=0;l<f;l++){const B=this.it.getParameterInfo(l);if(B&&B.type!==void 0&&B.type===G.ParameterTypeSignal&&B.ioType!==void 0&&B.ioType===G.IOTypeInput){const z=B.min===void 0?0:B.min,k=B.max===void 0?1:B.max;n||(o+=", "),o+="{ name: '"+B.name+"', automationRate: 'a-rate', minValue: "+z+", maxValue: "+k+"}",n=!1}}return o+="]",o}get node(){return this.wt(),this.Mt}setPatcher(o,f){return(0,x.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(o),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=f.type;const n=U[f.type];let l=this.numInputChannels,B=this.numOutputChannels;l<1&&(l=1),B<1&&(B=1);const z=`RNBOProcessor-${(0,E.EL)()}`;let k=n.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",z).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch(f.type){case"js":k=k.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",te.from(JSON.stringify(o),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",te.from(this.Et(f),"utf-8").toString("base64"));break;case"wasm":k=this.Et(f)+`

`+k}const W=URL.createObjectURL(new Blob([k],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(W),this.Mt=new(D())(this.context,z,this.it.eventSubjects,{numberOfInputs:l,numberOfOutputs:1,outputChannelCount:[B]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var u=__webpack_require__(676),N=__webpack_require__(347);const h="1.0.2",L={bufferSize:1024,parameterNotificationSetting:S.EX.All};function H(F,o){var f,n,l,B;return(0,x.mG)(this,void 0,void 0,function*(){const{context:z,patcher:k,type:W="auto"}=F,J=((n=(f=k.desc)===null||f===void 0?void 0:f.meta)===null||n===void 0?void 0:n.rnboversion)||k.desc.rnboVersion;if(J!==h&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${h}
patcher		v${J}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((l=k.src)===null||l===void 0)&&l.length)||!Array.isArray(k.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((B=k.src)===null||B===void 0?void 0:B.map(he=>he.type)).has("js")&&!E.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const Z=k.src.find(he=>E.f8&&he.type==="wasm")||k.src.find(he=>he.type==="js"),K=Object.assign({},L,F.options);if(!z)throw new Error("Missing argument context");if(W===c.Worklet&&!E.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const Q=W==="auto"?E.I7?c.Worklet:c.Script:W;if(Q!==c.Script&&Q!==c.Worklet)throw new Error(`Unknown Device type ${Q}. Please make sure to use either 'auto' or a valid DeviceType`);let ae;if(Q===c.Script){if(o&&!(o instanceof j))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");ae=new j({bufferSize:K.bufferSize,parameterNotificationSetting:K.parameterNotificationSetting,context:z},o?.sourceType===Z.type?o:void 0)}else if(Q===c.Worklet){if(o&&!(o instanceof t))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");ae=new t({context:z,parameterNotificationSetting:K.parameterNotificationSetting},o)}return o&&o.destroy(),ae=ae,yield ae.setPatcher(k.desc,Z),ae})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);const patchExportURL="./rnbo/patch.export.json",WAContext=window.AudioContext||window.webkitAudioContext,context=new WAContext;async function setup(){const x=context.createGain();x.connect(context.destination);let w,M;try{w=await fetch(patchExportURL),M=await w.json()}catch(I){const a={error:I};if(w&&(w.status>=300||w.status<200)&&(a.header="Couldn't load patcher export bundle",a.description=`Check app.js to see what file it's trying to load. Currently it's trying to load "${patchExportURL}". If that doesn't match the name of the file you exported from RNBO, modify patchExportURL in app.js.`),typeof guardrails=="function")guardrails(a);else throw I;return}let d;try{d=await rnbo_webaudio.exports.createDevice({context,patcher:M})}catch(I){if(typeof guardrails=="function")guardrails({error:I});else throw I;return}const S=await(await fetch("./rnbo/media/018.wav")).arrayBuffer(),A=await context.decodeAudioData(S);console.log(A),await d.setDataBuffer("sample01",A),d.node.connect(x),receiveMidiCC(d),d.messageEvent.subscribe(I=>{displayValueFromRNBO(I.tag,I.payload);const a=document.querySelectorAll(".rect");I.tag==="position"&&a.forEach(v=>{v.style.transform=`rotate(${I.payload/25*-1}deg)`})})}document.querySelector("body").addEventListener("click",function(){context.resume().then(()=>{console.log("Playback resumed successfully")})});let values={start:0,end:0,position:0,speed:0};const displayValueFromRNBO=(x,w)=>{values[x]=w;const M=document.querySelector(`*[data-type="${x}"]`);if(x==="speed"?M.innerText=Math.floor(values.speed[0]*Math.pow(10,2))/Math.pow(10,2):M&&(M.innerText=msToTime(w)),x==="end"){console.log(values);const d=document.querySelector('*[data-type="length"]');d.innerText=values.end-values.start}};function msToTime(x){const w=Math.floor(x/36e5),d=("00"+Math.floor((x-36e5*w)/6e4)).slice(-2),E=("00000"+x%6e4).slice(-5);return`${d}:${E.slice(0,2)}.${E.slice(2,4)}`}const receiveMidiCC=x=>{navigator.requestMIDIAccess().then(w=>{w.inputs.forEach(M=>{M.onmidimessage=function(d){const E=[d.data[0],d.data[1],d.data[2]],S=new rnbo_webaudio.exports.MIDIEvent(rnbo_webaudio.exports.TimeNow,0,E);x.scheduleEvent(S)}})})};setup();
